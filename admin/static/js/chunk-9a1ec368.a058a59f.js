(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a1ec368"],{"0af3":function(t,e,i){},"131e":function(t,e,i){},"1f35":function(t,e,i){},"28c6":function(t,e,i){},3971:function(t,e,i){"use strict";var o=i("c810"),s=i.n(o);s.a},"4e46":function(t,e,i){"use strict";var o=i("28c6"),s=i.n(o);s.a},"6b22":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderManagement"},[i("orderManagementMain")],1)},s=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"treeCon"},[i("el-collapse-transition",[i("div",{staticClass:"tree",on:{mouseover:t.mouseoverTree,mouseout:t.mouseoutTree}},[i("h3",{staticStyle:{padding:"10px 0 10px 15px","font-size":"14px","text-align":"left"}},[t._v("产品分类目录")]),i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.treeLoading,expression:"treeLoading"}],attrs:{data:t.treeData,props:t.defaultProps,"highlight-current":!0,"icon-class":"iconfont icon_mulu","default-expand-all":!1,"expand-on-click-node":!1},on:{"node-click":t.handleNodeClick}})],1)])],1)},n=[],r=(i("96cf"),i("1da1")),l={props:["componentName"],data:function(){return{iconProductState:!1,treeData:[],defaultProps:{children:"subcate",label:"cate_name"},cate_id:"",treeLoading:!1}},methods:{handleNodeClick:function(t){if(this.cate_id==t.id)return!1;this.cate_id=t.id,"OptionalCharges"==this.componentName&&this.$store.commit("CHANGE_CATE_ID",t.id),"CommodityManagement"==this.componentName&&this.$store.commit("CHANGE_SHOP_PRODUCT_CATE_ID",t.id),"OrderManagement"==this.componentName&&this.$store.commit("CHANGE_ORDER_CATEID",t.id)},clickIconProductState:function(){this.iconProductState=!0},mouseoutTree:function(){this.iconProductState=!1},mouseoverTree:function(){this.iconProductState=!0},initData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.treeLoading=!0,e.next=3,t.api.leftmenu();case 3:for(o in i=e.sent,t.treeData.push({id:0,cate_name:"所有目录"}),i.data.data)i.data.data.hasOwnProperty(o)&&(s=i.data.data[o],t.treeData.push(s));t.treeLoading=!1;case 7:case"end":return e.stop()}}),e)})))()}},created:function(){"OptionalCharges"==this.componentName&&this.$store.commit("CHANGE_CATE_ID",0),"CommodityManagement"==this.componentName&&this.$store.commit("CHANGE_SHOP_PRODUCT_CATE_ID",0),"OrderManagement"==this.componentName&&this.$store.commit("CHANGE_ORDER_CATEID",0)},beforeMount:function(){this.initData()}},c=l,d=(i("caa2"),i("2877")),u=Object(d["a"])(c,a,n,!1,null,"ddb115ec",null),p=u.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mainCon orderManagementTable"},[i("scrollButton"),i("div",{staticClass:"mainBottom"},[i("el-row",[i("el-col",{attrs:{span:2}},[i("div",{staticClass:"grid-content bg-purple right"},[t._v("账 号：")])]),i("el-col",{attrs:{span:16}},[i("div",{staticClass:"grid-content left"},[i("el-checkbox-group",{attrs:{size:"mini"},model:{value:t.checkboxaccount,callback:function(e){t.checkboxaccount=e},expression:"checkboxaccount"}},[i("el-checkbox-button",{key:0,attrs:{label:0},on:{change:function(e){return t.changeaccount(0)}}},[t._v("全部")]),t._l(t.AccountList,(function(e){return i("el-checkbox-button",{key:e.id,attrs:{label:e.id},on:{change:function(i){return t.changeaccount(e.id)}}},[t._v(t._s(e.realname))])}))],2)],1)])],1),i("el-row",[i("el-col",{attrs:{span:2}},[i("div",{staticClass:"grid-content bg-purple right"},[t._v("店铺名称：")])]),i("el-col",{attrs:{span:16}},[i("div",{staticClass:"grid-content bg-purple-light left"},[i("el-checkbox-group",{attrs:{size:"mini"},model:{value:t.checkboxshop,callback:function(e){t.checkboxshop=e},expression:"checkboxshop"}},[i("el-checkbox-button",{key:0,attrs:{label:0},on:{change:function(e){return t.changeshop(0)}}},[t._v("全部")]),t._l(t.storeList,(function(e){return i("el-checkbox-button",{key:e.id,attrs:{label:e.id},on:{change:function(i){return t.changeshop(e.id)}}},[t._v(t._s(e.store_name))])}))],2)],1)])],1),i("el-row",[i("el-col",{attrs:{span:2}},[i("div",{staticClass:"grid-content bg-purple right"},[t._v("订单状态：")])]),i("el-col",{attrs:{span:22}},[i("div",{staticClass:"grid-content bg-purple-light left"},[i("el-radio-group",{attrs:{size:"mini"},on:{change:t.changeState},model:{value:t.orderState,callback:function(e){t.orderState=e},expression:"orderState"}},t._l(t.buttonList,(function(e){return i("el-radio-button",{key:e.id,attrs:{label:e.id,value:e.id}},[t._v(t._s(e.name))])})),1)],1)])],1),i("el-row",[i("el-col",{attrs:{span:2}},[i("div",{staticClass:"grid-content bg-purple right"},[t._v("物流方式：")])]),i("el-col",{attrs:{span:22}},[i("div",{staticClass:"grid-content bg-purple-light left"},[i("el-radio-group",{attrs:{size:"mini"},on:{change:t.ShippingMethod},model:{value:t.Shippingmethod,callback:function(e){t.Shippingmethod=e},expression:"Shippingmethod"}},t._l(t.ShippingList,(function(e){return i("el-radio-button",{key:e.id,attrs:{label:e.id,value:e.id}},[t._v(t._s(e.courier_name))])})),1)],1)])],1),i("el-row",[i("el-col",{attrs:{span:2}},[i("div",{staticClass:"grid-content bg-purple right"},[t._v("国 家：")])]),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content bg-purple-light left"},[i("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:t.countryselect,callback:function(e){t.countryselect=e},expression:"countryselect"}},t._l(t.countryList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.zone_name,value:e.id}},[t._v(t._s(e.zone_name))])})),1)],1)])],1),i("el-row",[i("el-col",{attrs:{span:2}},[i("div",{staticClass:"grid-content bg-purple right"},[t._v("时 间：")])]),i("el-col",{attrs:{span:22}},[i("div",{staticClass:"grid-content bg-purple-light left"},[i("el-date-picker",{attrs:{type:"daterange",align:"right",format:"yyyy-MM-dd","range-separator":"至","start-placeholder":"","end-placeholder":"","picker-options":t.pickerOptions,clearable:!1,"value-format":"yyyy-MM-dd"},model:{value:t.timeValue,callback:function(e){t.timeValue=e},expression:"timeValue"}})],1)])],1),i("el-row",[i("el-col",{attrs:{span:2}},[i("div",{staticClass:"grid-content bg-purple right"},[t._v("关键词：")])]),i("el-col",{attrs:{span:8}},[i("div",{staticClass:"grid-content bg-purple-light left"},[i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"搜索：订单号，运单号，收件人等...","suffix-icon":"el-icon-search",size:"mini"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)]),i("el-col",{attrs:{span:4}},[i("el-button",{staticClass:"searchbut",attrs:{type:"primary",size:"small"},on:{click:t.searchorder}},[t._v("搜索")]),i("el-button",{attrs:{size:"small"},on:{click:t.resetorder}},[t._v("重置")])],1)],1),t.pageprop?i("el-row",{staticClass:"pageprop",class:t.pageprop?"isFixed":""},[i("el-col",{attrs:{span:4}},[i("el-checkbox",{on:{change:function(e){return t.checkedAllOrderChange(t.checkedAllOrder)}},model:{value:t.checkedAllOrder,callback:function(e){t.checkedAllOrder=e},expression:"checkedAllOrder"}},[t._v("全选")]),t._v(" | 已选择"+t._s(t.multipleSelection.length)+"个 ")],1),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content bg-purple-light left"},[i("el-button-group",[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.orderImport}},[t._v("导入订单")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.exportOrder}},[t._v("导出订单")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.updateLogisticsInfo}},[t._v("更新物流")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.generateWaybillNumber}},[t._v("重新生成运单号")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.SetUrgentOrder}},[t._v("加急")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.orderMatching}},[t._v("订单匹配")])],1)],1)]),i("el-col",{staticClass:"pageCon",attrs:{span:8}},[i("el-pagination",{attrs:{"current-page":t.orderManagement.page,"page-sizes":[50,100,200],"page-size":t.orderManagement.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1):t._e(),i("el-row",{staticClass:"pageprop",attrs:{id:"getScroll"}},[i("el-col",{attrs:{span:4}},[i("el-checkbox",{on:{change:function(e){return t.checkedAllOrderChange(t.checkedAllOrder)}},model:{value:t.checkedAllOrder,callback:function(e){t.checkedAllOrder=e},expression:"checkedAllOrder"}},[t._v("全选")]),t._v(" | 已选择"+t._s(t.multipleSelection.length)+"个 ")],1),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content bg-purple-light left"},[i("el-button-group",[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.orderImport}},[t._v("导入订单")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.exportOrder}},[t._v("导出订单")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.updateLogisticsInfo}},[t._v("更新物流")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.generateWaybillNumber}},[t._v("重新生成运单号")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.SetUrgentOrder}},[t._v("加急")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.orderMatching}},[t._v("订单匹配")])],1)],1)]),i("el-col",{attrs:{span:8}},[i("div",{staticClass:"pageCon"},[i("el-pagination",{attrs:{"current-page":t.orderManagement.page,"page-sizes":[50,100,200],"page-size":t.orderManagement.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1),i("div",{staticClass:"allOrderList"},[i("el-row",{staticClass:"allOrderListTitle"},[i("el-col",{staticClass:"textLeft",staticStyle:{"padding-left":"20px"},attrs:{span:2}}),i("el-col",{attrs:{span:6}},[t._v("产品详情")]),i("el-col",{attrs:{span:3}},[t._v("销售总计")]),i("el-col",{attrs:{span:3}},[t._v("货款总计")]),i("el-col",{attrs:{span:3}},[t._v("收件人【国家】")]),i("el-col",{attrs:{span:3}},[t._v("时间")]),i("el-col",{attrs:{span:2}},[t._v("物流方式")]),i("el-col",{attrs:{span:2}},[t._v("状态")]),i("el-col",{attrs:{span:2}},[t._v("操作")])],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"allOrderListContentBox"},t._l(t.tableData,(function(e,o){return i("div",{key:o,staticClass:"allOrderListContent"},[i("el-row",{staticClass:"textLeft orderNumRow"},[i("el-checkbox",{on:{change:function(i){return t.orderNumSelectChange(t.checked["main"+o],e)}},model:{value:t.checked["main"+o],callback:function(e){t.$set(t.checked,"main"+o,e)},expression:"checked['main'+index]"}},[t._v(" 订单号： "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"top-start"}},[i("span",{directives:[{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.order_sn,expression:"item.order_sn",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.copyFun,expression:"copyFun",arg:"success"}],staticClass:"tag-read",staticStyle:{cursor:"pointer"},attrs:{slot:"content"},slot:"content"},[t._v("复制")]),i("span",{staticClass:"color1e7ec8",on:{click:function(i){return t.clickEditOrder(e)}}},[t._v(t._s(e.order_sn))])])],1),i("el-tag",{directives:[{name:"show",rawName:"v-show",value:"1"==e.is_urgent,expression:"item.is_urgent=='1'"}],attrs:{type:"danger",size:"mini",plain:""}},[t._v("加急")])],1),i("el-row",{staticClass:"borderBot"},[i("el-col",{attrs:{span:6}},t._l(e.goods_info,(function(o,s){return i("el-row",{key:s,class:s!==e.goods_info.length-1?"textLeft productInfoRow borderBot":"textLeft productInfoRow"},[i("el-col",{staticStyle:{"text-align":"center"},attrs:{span:6}},[i("el-tooltip",{attrs:{placement:"right-start",effect:"light"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.goods_imgs,expression:"item1.goods_imgs"}],staticStyle:{width:"500px"},attrs:{alt:""}})]),i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.goods_imgs,expression:"item1.goods_imgs"}],staticStyle:{width:"auto","max-height":"80px"},attrs:{alt:""}})])],1),i("el-col",{attrs:{span:18}},[i("el-row",{staticClass:"marginBottm10",staticStyle:{"padding-top":"0px"}},[i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(o.goods_name))]),i("div",{staticClass:"goodsName"},[t._v(t._s(o.goods_name))])])],1),i("el-row",{staticClass:"marginBottm10"},[i("el-col",{attrs:{span:12}},[t._v("价格："+t._s(o.goods_price))]),i("el-col",{attrs:{span:12}},[t._v("货款："+t._s(o.total_amount))])],1),i("el-row",{staticClass:"marginBottm10"},[i("el-col",{attrs:{span:12}},[t._v("颜色："+t._s(o.color))]),i("el-col",{attrs:{span:10}},[t._v("尺码："+t._s(o.sizes))])],1),i("el-row",[t._v("数量："+t._s(o.goods_num))])],1)],1)})),1),i("el-col",{staticStyle:{position:"relative"},style:t.tableHeightMain3["main"+o],attrs:{span:3}},[i("el-row",{staticClass:"height15"},[i("span",{staticClass:"textLeft"},[t._v("产品金额:")]),t._v(" "+t._s(e.item_price)+" ")]),i("el-row",{staticClass:"height15"},[i("span",{staticClass:"textLeft"},[t._v("运 费:")]),t._v(" "+t._s(e.a_shipping_price)+" ")]),i("el-row",{staticClass:"height15"},[i("span",{staticClass:"textLeft"},[t._v("总 计:")]),t._v(" "+t._s(e.a_total_amount)+" ")]),i("el-row",{staticClass:"height15"},[t._v("（共 "+t._s(e.goods_num)+" 件）")])],1),i("el-col",{style:t.tableHeightMain2["main"+o],attrs:{span:3}},[i("el-row",{staticClass:"height15"},[i("span",{staticClass:"textLeft"},[t._v("产品货款:")]),t._v(" "+t._s(e.order_amount)+" ")]),i("el-row",{staticClass:"height15"},[i("span",{staticClass:"textLeft"},[t._v("运 费:")]),t._v(" "+t._s(e.shipping_price)+" ")]),i("el-row",{staticClass:"height15"},[i("span",{staticClass:"textLeft"},[t._v("总 计:")]),t._v(" "+t._s(e.total_amount)+" ")])],1),i("el-col",{style:t.tableHeightMain1["main"+o],attrs:{span:3}},[i("el-row",{staticClass:"height15"},[t._v(t._s(e.consignee))]),i("el-row",{staticClass:"height15"},[t._v("【"+t._s(e.country_alias)+"】")])],1),i("el-col",{style:t.tableHeightMain["main"+o],attrs:{span:3}},[t._v(t._s(e.created_at))]),i("el-col",{style:t.tableHeightMain["main"+o],attrs:{span:2}},[i("el-row",{staticClass:"height15"},[t._v(t._s(e.shipping_name))])],1),i("el-col",{style:t.tableHeightMain["main"+o],attrs:{span:2}},[0==e.order_status?i("el-row",{staticClass:"height15"},[t._v("待编辑")]):1==e.order_status?i("el-row",{staticClass:"height15"},[t._v("未付货款")]):2==e.order_status?i("el-row",{staticClass:"height15"},[t._v("已付货款")]):3==e.order_status?i("el-row",{staticClass:"height15"},[t._v("排单中")]):4==e.order_status?i("el-row",{staticClass:"height15"},[t._v("确认生产")]):5==e.order_status?i("el-row",{staticClass:"height15"},[t._v("已发货")]):i("el-row",[t._v("已取消")]),"0"==e.associated_states?i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return t.clickAssociatedPro(e)}}},[t._v("关联产品")]):t._e()],1),i("el-col",{style:t.tableHeightMainBtn["main"+o],attrs:{span:2}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return t.clickEditOrder(e)}}},[t._v("编辑")])],1)],1)],1)})),0)],1)],1),i("mainBottom",{staticStyle:{"margin-top":"1vh","margin-left":"0.5%"},on:{changeMainHeight:t.changeMainHeight}}),i("el-dialog",{staticClass:"orderImportDialog",attrs:{title:"订单导入",visible:t.orderImportDialogVisible,width:"55%"},on:{"update:visible":function(e){t.orderImportDialogVisible=e}}},[i("div",{staticClass:"orderListDiv1"},[i("el-radio-group",{staticStyle:{padding:"15px"},attrs:{size:"small"},on:{change:t.shopChange},model:{value:t.uploadData.shopid,callback:function(e){t.$set(t.uploadData,"shopid",e)},expression:"uploadData.shopid"}},t._l(t.storeList,(function(e){return i("el-radio",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.store_name))])})),1)],1),i("span",{staticClass:"dialog-footer marginRight23",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"marginRight3",attrs:{size:"small"},on:{click:t.cancelImport1}},[t._v("取消")]),i("uploadExcel",{attrs:{uploadData:t.uploadData},on:{isBlock:t.isBlock}})],1)]),i("el-dialog",{staticClass:"orderImportDialog",attrs:{title:"订单导入预览",visible:t.orderImportDialogTableVisible,width:"55%"},on:{"update:visible":function(e){t.orderImportDialogTableVisible=e}}},[i("div",{staticClass:"orderListDiv"},[i("el-row",{staticClass:"titleRow"},[i("el-col",{attrs:{span:6}},[t._v("上传订单："+t._s(t.orderList.order_num))]),i("el-col",{attrs:{span:6}},[t._v("产品解析成功："+t._s(t.orderList.success_num))]),i("el-col",{attrs:{span:6}},[t._v("产品解析失败："+t._s(t.orderList.failure_num))]),i("el-col",{attrs:{span:6}},[t._v("重复订单："+t._s(t.orderList.repeat_num))])],1),i("el-row",{staticClass:"topRow botrow"},[i("el-col",{staticClass:"textCenter",attrs:{span:9}},[t._v("产品信息")]),i("el-col",{staticClass:"textCenter",attrs:{span:3}},[t._v("订单金额")]),i("el-col",{staticClass:"textCenter",attrs:{span:4}},[t._v("收件人【国家】")]),i("el-col",{staticClass:"textCenter",attrs:{span:8}},[t._v("收货信息")])],1),i("div",{staticClass:"orderListBox"},t._l(t.orderList.info,(function(e,o){return i("div",{key:o,staticClass:"orderList1"},[i("el-row",{staticClass:"botrow",staticStyle:{"background-color":"#f5f7fa"}},[i("span",{staticClass:"displayInlineBlock marginRight23 Orderspan"},[t._v("订单号："+t._s(e.order_id))]),i("span",[t._v("下单时间： "+t._s(e.payments_date))])]),t._l(e.goods_info,(function(o,s){return i("el-row",{key:s,staticClass:"botrow"},[i("el-col",{attrs:{span:9}},[i("el-col",{attrs:{span:6}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.img,expression:"item1.img"}],staticClass:"orderImg"})]),i("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[i("el-row",{staticClass:"marginBot5"},[t._v(t._s(o.goods_name))]),i("el-row",{staticClass:"marginBot5"},[t._v("SKU："+t._s(o.sku))]),i("el-row",{staticClass:"marginBot5"},[t._v("颜色："+t._s(o.color)+" 尺码："+t._s(o.sizes)+" 数量："+t._s(o.quantity_purchased))])],1)],1),i("el-col",{staticClass:"textCenter",attrs:{span:3}},[t._v(t._s(e.item_price))]),i("el-col",{attrs:{span:4}},[i("el-row",{staticClass:"textCenter marginBot5"},[t._v(t._s(e.recipient_name))]),i("el-row",{staticClass:"textCenter marginBot5",staticStyle:{"text-align":"center!important"}},[t._v("【"+t._s(e.ship_country)+"】")])],1),i("el-col",{attrs:{span:8}},[i("div",{staticClass:"marginBot5"},[t._v("地址："+t._s(e.ship_address_1)+t._s(e.ship_postal_code))]),i("div",[t._v("电话："+t._s(e.buyer_phone_number))])])],1)}))],2)})),0)],1),i("span",{staticClass:"dialog-footer marginRight23",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"marginRight3",attrs:{size:"small"},on:{click:t.cancelImport}},[t._v("取消")]),i("el-button",{staticClass:"marginRight3",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.confirmImport()}}},[t._v("确定导入")])],1)]),i("el-dialog",{staticClass:"editorderImportDialog orderImportDialog1",attrs:{title:"产品关联",visible:t.ProductAssociationDialogTableVisible,width:"65%"},on:{"update:visible":function(e){t.ProductAssociationDialogTableVisible=e}}},[i("el-row",{staticStyle:{padding:"15px"}},[i("el-col",{staticStyle:{padding:"15px"},attrs:{span:8}},[t._v(t._s(t.goods_name))]),i("el-col",{staticStyle:{padding:"15px"},attrs:{span:12}},[i("el-row",{staticStyle:{padding:"15px"}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.clickAssociatedPro1()}}},[t._v("设计产品")])],1),i("el-row",[i("el-input",{attrs:{placeholder:"商品编号"},on:{blur:function(e){return t.ProductNumber()}},model:{value:t.productcode,callback:function(e){t.productcode=e},expression:"productcode"}})],1),i("el-row",{staticStyle:{"text-align":"left"}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.Associateimg,expression:"Associateimg"}],staticClass:"orderImg"}),t._v(" "+t._s(t.Associatename)+" ")]),i("el-row",{staticStyle:{"text-align":"left"}},[t._v(" 颜 色： "),i("el-radio-group",{attrs:{size:"mini"},model:{value:t.colorid,callback:function(e){t.colorid=e},expression:"colorid"}},t._l(t.colorlist,(function(e){return i("el-radio",{key:e.id,attrs:{label:e.id,value:e.id}},[t._v(t._s(e.name))])})),1)],1),i("el-row",{staticStyle:{"text-align":"left"}},[t._v(" 尺 码： "),i("el-radio-group",{attrs:{size:"mini"},model:{value:t.sizeid,callback:function(e){t.sizeid=e},expression:"sizeid"}},t._l(t.sizelist,(function(e){return i("el-radio",{key:e.id,attrs:{label:e.id,value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"marginRight3",attrs:{size:"small"},on:{click:function(e){return t.cancelSaveProductAssociation()}}},[t._v("取消")]),i("el-button",{staticClass:"marginRight3",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.saveProductAssociation()}}},[t._v("关联")])],1)],1),i("el-dialog",{staticClass:"editorderImportDialog orderImportDialog1",attrs:{title:"订单编辑",visible:t.EditorderImportDialogTableVisible,width:"65%"},on:{"update:visible":function(e){t.EditorderImportDialogTableVisible=e}}},[i("div",{staticClass:"editOrderLListBox"},[i("div",{staticClass:"editTop"},[i("span",[t._v("订单号：")]),t._v(" "+t._s(t.editOrderInfo.order_sn)+" ")]),i("div",{staticClass:"productInfo"},[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClickTab},model:{value:t.EditactiveName,callback:function(e){t.EditactiveName=e},expression:"EditactiveName"}},[i("el-tab-pane",{attrs:{label:"订单信息",name:"1"}},[i("div",{staticClass:"editTop borderNone"},[i("span",[t._v("订单信息")])]),i("div",{staticClass:"mainBBOx"},[i("el-row",{staticClass:"mainTop1111 borderBot"},[i("el-col",{attrs:{span:16}},[i("el-col",{attrs:{span:13}},[t._v("产品信息")]),i("el-col",{attrs:{span:3}},[t._v("单价")]),i("el-col",{attrs:{span:3}},[t._v("货款")]),i("el-col",{attrs:{span:3}},[t._v("数量")]),i("el-col",{staticClass:"borderLeft",attrs:{span:2}},[t._v("操作")])],1),i("el-col",{staticClass:"borderLeft",attrs:{span:4}},[t._v("销售总计")]),i("el-col",{staticClass:"borderLeft",attrs:{span:4}},[t._v("货款总计")])],1),i("el-row",[i("el-col",{attrs:{span:16}},t._l(this.editOrderInfo.goods_info,(function(e,o){return i("el-row",{key:o,class:o==t.editOrderInfo.goods_info.length-1?"textLeft height90":"textLeft height90 borderBot",staticStyle:{padding:"0 0 0px 5px"}},[i("el-col",{attrs:{span:4}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goods_imgs,expression:"item.goods_imgs"}],staticStyle:{width:"80px",height:"80px","padding-top":"10px"},attrs:{alt:""}})]),i("el-col",{staticStyle:{"padding-top":"25px"},attrs:{span:9}},[i("el-row",{staticClass:"textLeft"},[i("el-row",{staticClass:"marginBot5"},[i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.goods_name))]),i("div",{staticClass:"goodsName"},[t._v(t._s(e.goods_name))])])],1),i("el-row",{staticClass:"marginBot5"},[i("el-col",{attrs:{span:11}},[t._v("颜色："+t._s(e.color))]),i("el-col",{attrs:{span:13}},[t._v("规格："+t._s(e.spec_key))])],1)],1)],1),i("el-col",{staticClass:"textCenter lineHeight90",attrs:{span:3}},[t._v(t._s(e.goods_price))]),i("el-col",{staticClass:"textCenter lineHeight90",attrs:{span:3}},[t._v("货款")]),i("el-col",{staticClass:"textCenter lineHeight90",attrs:{span:3}},[t._v(t._s(e.goods_num))]),i("el-col",{staticClass:"textCenter height90 borderLeft",attrs:{span:2}},[i("el-row",{style:1==t.editOrderInfo.goods_info.length?"padding-top:40px":"padding-top:30px"},[i("el-button",{staticClass:"editDeleteBtn",attrs:{type:"text"},on:{click:function(i){return t.editGoodsInfo(e.goods_id,e.id)}}},[t._v("修改")]),1!==t.editOrderInfo.goods_info.length?i("el-button",{staticClass:"editDeleteBtn",attrs:{type:"text"},on:{click:function(i){return t.beforeDeleteGoodsInfo(e.goods_id,e.id)}}},[t._v("删除")]):t._e()],1)],1)],1)})),1),i("el-col",{style:t.Height,attrs:{span:4}},[i("el-row",{staticClass:"marginBot5"},[i("span",{staticClass:"textLeft heightSpan"},[t._v("产品金额:")]),t._v(" "+t._s(t.editOrderInfo.item_price)+" ")]),i("el-row",{staticClass:"marginBot5"},[i("span",{staticClass:"textLeft heightSpan"},[t._v("运 费:")]),t._v(" "+t._s(t.editOrderInfo.a_shipping_price)+" ")]),i("el-row",{staticClass:"marginBot5"},[i("span",{staticClass:"textLeft heightSpan"},[t._v("总 计:")]),t._v(" "+t._s(t.editOrderInfo.a_total_amount)+" ")])],1),i("el-col",{style:t.Height,attrs:{span:4}},[i("el-row",{staticClass:"marginBot5"},[i("span",{staticClass:"textLeft heightSpan"},[t._v("产品货款:")]),t._v(" "+t._s(t.editOrderInfo.order_amount)+" ")]),i("el-row",{staticClass:"marginBot5"},[i("span",{staticClass:"textLeft heightSpan"},[t._v("运 费:")]),t._v(" "+t._s(t.editOrderInfo.shipping_price)+" ")]),i("el-row",{staticClass:"marginBot5"},[i("span",{staticClass:"textLeft heightSpan"},[t._v("总 计:")]),t._v(" "+t._s(t.editOrderInfo.total_amount)+" ")])],1)],1)],1)]),i("el-tab-pane",{attrs:{label:"收货信息",name:"2"}},[i("div",{staticClass:"editTop borderNone"},[i("span",[t._v("寄送地址")]),i("span",{staticClass:"fr"},[t.infoDisabled?t._e():i("el-button",{staticClass:"marginRight10 paddingNone",attrs:{type:"text"}},[t._v("保存")]),t.infoDisabled?t._e():i("el-button",{staticClass:"marginRight10 paddingNone",attrs:{type:"text"},on:{click:t.resetBox}},[t._v("重置")]),t.infoDisabled?t._e():i("el-button",{staticClass:"marginRight10 paddingNone",attrs:{type:"text"},on:{click:function(e){t.infoDisabled=!0}}},[t._v("取消")])],1)]),i("div",{staticClass:"goodsContent"},[i("div",[i("span",[t._v("收货人：")]),i("el-input",{attrs:{disabled:t.infoDisabled},model:{value:t.editOrderInfo.consignee,callback:function(e){t.$set(t.editOrderInfo,"consignee",e)},expression:"editOrderInfo.consignee"}})],1),i("div",[i("span",{staticClass:"rightSpan"},[t._v("国家：")]),i("el-input",{attrs:{disabled:t.infoDisabled},model:{value:t.editOrderInfo.country_alias,callback:function(e){t.$set(t.editOrderInfo,"country_alias",e)},expression:"editOrderInfo.country_alias"}})],1),i("div",[i("span",[t._v("省 / 州：")]),i("el-input",{attrs:{disabled:t.infoDisabled},model:{value:t.editOrderInfo.province,callback:function(e){t.$set(t.editOrderInfo,"province",e)},expression:"editOrderInfo.province"}})],1),i("div",[i("span",{staticClass:"rightSpan"},[t._v("邮编：")]),i("el-input",{attrs:{disabled:t.infoDisabled},model:{value:t.editOrderInfo.zipcode,callback:function(e){t.$set(t.editOrderInfo,"zipcode",e)},expression:"editOrderInfo.zipcode"}})],1),i("div",[i("span",[t._v("城 市：")]),i("el-input",{attrs:{disabled:t.infoDisabled},model:{value:t.editOrderInfo.city,callback:function(e){t.$set(t.editOrderInfo,"city",e)},expression:"editOrderInfo.city"}})],1),i("div",[i("span",{staticClass:"rightSpan"},[t._v("电话：")]),i("el-input",{attrs:{disabled:t.infoDisabled},model:{value:t.editOrderInfo.mobile,callback:function(e){t.$set(t.editOrderInfo,"mobile",e)},expression:"editOrderInfo.mobile"}})],1),i("div",[i("span",[t._v("地 址：")]),i("el-input",{attrs:{disabled:t.infoDisabled},model:{value:t.editOrderInfo.address,callback:function(e){t.$set(t.editOrderInfo,"address",e)},expression:"editOrderInfo.address"}})],1),i("div",[i("span",{staticClass:"rightSpan"},[t._v("手机：")]),i("el-input",{attrs:{disabled:t.infoDisabled},model:{value:t.editOrderInfo.mobile,callback:function(e){t.$set(t.editOrderInfo,"mobile",e)},expression:"editOrderInfo.mobile"}})],1)])]),i("el-tab-pane",{attrs:{label:"物流信息",name:"3"}},[i("div",{staticClass:"editTop borderNone"},[i("span",[t._v("物流信息")])]),i("el-table",{staticStyle:{width:"100%"}},[i("el-table-column",{attrs:{prop:"date",label:"物流方式",width:"180"}}),i("el-table-column",{attrs:{prop:"name",label:"物流单号",width:"180"}}),i("el-table-column",{attrs:{prop:"address",label:"发货时间"}}),i("el-table-column",{attrs:{prop:"address",label:"操作"}})],1)],1),i("el-tab-pane",{attrs:{label:"交易记录",name:"4"}},[i("div",{staticClass:"editTop borderNone"},[i("span",[t._v("交易信息")])])])],1)],1)]),i("span",{staticClass:"dialog-footer marginRight23",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"marginRight3",attrs:{size:"small"},on:{click:function(e){t.EditorderImportDialogTableVisible=!1}}},[t._v("关闭")])],1)]),i("el-dialog",{staticClass:"editorderImportDialog orderImportDialog",attrs:{title:"修改产品信息",visible:t.EditGoodsInfoDialogVisible,width:"30%"},on:{"update:visible":function(e){t.EditGoodsInfoDialogVisible=e}}},[i("el-row",{staticClass:"editGoodsInfoBox",attrs:{gutter:5}},[i("el-col",{staticClass:"textCenter",attrs:{span:6}},[i("el-row",[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.editGoodsInfoForm.order_goods.goods_img,expression:"editGoodsInfoForm.order_goods.goods_img"}],attrs:{alt:""}})]),i("el-row")],1),i("el-col",{staticClass:"goodsInputBox",attrs:{span:18}},[i("el-row",[t._v(t._s(t.editGoodsInfoForm.en_name))]),i("el-row",[t._v(t._s(t.editGoodsInfoForm.name))]),i("el-row",[i("span",[t._v("商品编号：")]),i("el-input",{on:{change:t.getGoods_sn},model:{value:t.editGoodsInfoForm.order_goods.goods_id,callback:function(e){t.$set(t.editGoodsInfoForm.order_goods,"goods_id",e)},expression:"editGoodsInfoForm.order_goods.goods_id"}})],1),i("el-row",[i("span",[t._v("颜色：")]),i("el-select",{on:{change:t.changeColor},model:{value:t.editGoodsInfoForm.order_goods.color_id,callback:function(e){t.$set(t.editGoodsInfoForm.order_goods,"color_id",e)},expression:"editGoodsInfoForm.order_goods.color_id"}},t._l(t.editGoodsInfoForm.colors,(function(t,e){return i("el-option",{key:e,attrs:{label:t.color?t.color.name:t.name,value:t.color?t.color.id:t.id}})})),1)],1),i("el-row",[i("span",[t._v("尺码：")]),i("el-select",{model:{value:t.editGoodsInfoForm.order_goods.size_id,callback:function(e){t.$set(t.editGoodsInfoForm.order_goods,"size_id",e)},expression:"editGoodsInfoForm.order_goods.size_id"}},t._l(t.editGoodsInfoForm.size,(function(t,e){return i("el-option",{key:e,attrs:{label:t.size?t.size.name:t.name,value:t.size?t.size.id:t.id}})})),1)],1),i("el-row",[i("span",[t._v("数量：")]),i("el-input",{model:{value:t.editGoodsInfoForm.order_goods.goods_num,callback:function(e){t.$set(t.editGoodsInfoForm.order_goods,"goods_num",e)},expression:"editGoodsInfoForm.order_goods.goods_num"}})],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"marginRight3",attrs:{size:"small"},on:{click:t.cancelSaveOrderGoodsInfo}},[t._v("取消")]),i("el-button",{staticClass:"marginRight3",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.saveOrderGoodsInfo()}}},[t._v("保存")])],1)],1)],1)},m=[],h=(i("99af"),i("4160"),i("c975"),i("a15b"),i("a434"),i("159b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mainBottom"},[i("el-dialog",{attrs:{title:"订单详情",visible:t.bottomShowStatus,width:"90%"},on:{"update:visible":function(e){t.bottomShowStatus=e}}},[i("div",{staticClass:"mainBottomLeft"},[i("el-form",{ref:"ruleForm",attrs:{model:t.sizeForm,rules:t.rules,"label-width":"80px",size:"mini","inline-message":!0}},[i("el-form-item",{staticClass:"marginBottm5 lineHeight20 textLeft",attrs:{size:"large"}},[t._v(" (商品合计："),i("span",{staticClass:"colorRed"},[t._v(t._s(t.sizeForm.goods_price))]),t._v(" + 快递费用："),i("span",{staticClass:"colorRed"},[t._v(t._s(t.sizeForm.shipping_price))]),t._v(" = 订单总额："),i("span",{staticClass:"colorRed"},[t._v(t._s(t.sizeForm.total_amount))]),t._v(") ")]),i("el-form-item",{staticClass:"width58 disInlineBlock marginBottm5",attrs:{label:"送达地区"}},[i("el-select",{staticClass:"width40",attrs:{placeholder:"送达国家",disabled:""},model:{value:t.sizeForm.country_alias,callback:function(e){t.$set(t.sizeForm,"country_alias",e)},expression:"sizeForm.country_alias"}}),i("el-select",{staticClass:"width58",attrs:{placeholder:"送达城市",disabled:""},model:{value:t.sizeForm.province,callback:function(e){t.$set(t.sizeForm,"province",e)},expression:"sizeForm.province"}})],1),i("el-form-item",{staticClass:"width40 disInlineBlock marginBottm5",attrs:{label:"城市",prop:"city_alias"}},[i("el-input",{model:{value:t.sizeForm.city_alias,callback:function(e){t.$set(t.sizeForm,"city_alias",e)},expression:"sizeForm.city_alias"}})],1),i("el-form-item",{staticClass:"width58 disInlineBlock marginBottm5",attrs:{label:"详细地址",prop:"address"}},[i("el-input",{model:{value:t.sizeForm.address,callback:function(e){t.$set(t.sizeForm,"address",e)},expression:"sizeForm.address"}})],1),i("el-form-item",{staticClass:"width40 disInlineBlock marginBottm5",attrs:{label:"邮编"}},[i("el-input",{model:{value:t.sizeForm.zipcode,callback:function(e){t.$set(t.sizeForm,"zipcode",e)},expression:"sizeForm.zipcode"}})],1),i("el-form-item",{staticClass:"width58 disInlineBlock marginBottm5",attrs:{label:"收件人",prop:"consignee"}},[i("el-input",{model:{value:t.sizeForm.consignee,callback:function(e){t.$set(t.sizeForm,"consignee",e)},expression:"sizeForm.consignee"}})],1),i("el-form-item",{staticClass:"width40 disInlineBlock marginBottm5",attrs:{label:"电话"}},[i("el-input",{model:{value:t.sizeForm.mobile,callback:function(e){t.$set(t.sizeForm,"mobile",e)},expression:"sizeForm.mobile"}})],1),i("el-form-item",{staticClass:"width58 disInlineBlock marginBottm5",attrs:{label:"订单号"}},[i("el-input",{attrs:{disabled:""},model:{value:t.sizeForm.order_sn,callback:function(e){t.$set(t.sizeForm,"order_sn",e)},expression:"sizeForm.order_sn"}})],1),i("el-form-item",{staticClass:"width40 disInlineBlock marginBottm5",attrs:{label:"物流"}},[i("el-select",{attrs:{disabled:""},model:{value:t.sizeForm.shipping_code_alias,callback:function(e){t.$set(t.sizeForm,"shipping_code_alias",e)},expression:"sizeForm.shipping_code_alias"}})],1),i("el-form-item",{staticClass:"marginBottm5",attrs:{label:"订单备注"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.sizeForm.user_note,callback:function(e){t.$set(t.sizeForm,"user_note",e)},expression:"sizeForm.user_note"}})],1),i("el-form-item",{staticClass:"marginBottm5 lineHeight20 textRight",attrs:{size:"large"}},[i("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("保存修改")]),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.cancellationOfOrder}},[t._v("取消订单")])],1)],1)],1),i("div",{staticClass:"mainBottomRight"},[i("div",{staticClass:"pageClass"},[i("el-button",{attrs:{type:"success",icon:"el-icon-refresh",size:"mini"}},[t._v("刷新")]),i("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[50,100,200],"page-size":t.pageSize,"pager-count":t.pagerCount,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",height:"33vh"}},[i("el-table-column",{attrs:{fixed:"","header-align":"center",align:"center",type:"index","min-width":"50"}}),i("el-table-column",{attrs:{prop:"date",label:"图片","header-align":"center",align:"center","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{directives:[{name:"show",rawName:"v-show",value:e.row.goods_imgs.length>0,expression:"scope.row.goods_imgs.length>0"}]},[i("el-tooltip",{attrs:{placement:"right-start",effect:"light"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.bigImgSrc,expression:"bigImgSrc"}],staticClass:"bigImgCon",attrs:{alt:"",srcset:""}})]),i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.row.goods_imgs[0].path,expression:"scope.row.goods_imgs[0].path"}],ref:"user_image",staticClass:"ImgCon",attrs:{alt:"",srcset:""},on:{mouseover:function(i){return t.mouseover(e.row.goods_imgs)},mousewheel:function(i){return t.wheel(e.row.goods_imgs)}}})])],1)]}}])}),i("el-table-column",{attrs:{prop:"goods_name","header-align":"center",align:"center",label:"商品标题","min-width":"120"}}),i("el-table-column",{attrs:{prop:"goods_weight","header-align":"center",align:"center",label:"重量（KG）","min-width":"120"}}),i("el-table-column",{attrs:{prop:"msrp","header-align":"center",align:"center",label:"单价","min-width":"100"}}),i("el-table-column",{attrs:{prop:"goods_num",label:"数量","header-align":"center",align:"center","min-width":"70"}})],1)],1)])],1)}),f=[],_=0,v={data:function(){return{bottomShowStatus:!1,total:0,currentPage:1,pagerCount:5,pageSize:50,sizeForm:{},bigImgSrc:"",tableData:[],orderId:"",order_sn:"",rules:{city_alias:[{required:!0,message:"请输入城市",trigger:"blur"}],address:[{required:!0,message:"请输入详细地址",trigger:"blur"}],consignee:[{required:!0,message:"请输入收件人",trigger:"blur"}]}}},methods:{closeButton:function(){this.$emit("changeMainHeight"),this.$store.commit("CHANGE_ORDER_DATA","")},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.saveOrder(e.sizeForm)}))},saveOrder:function(t){var e=this;this.postRequest("/v1/OrderTosave",t).then((function(t){"200"==t.data.code&&(e.$message({type:"success",message:"修改成功"}),e.$store.commit("CHANGE_ORDER_REFRESH_STATUS"))}))},cancellationOfOrder:function(){var t=this;this.$confirm("将取消该订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.cancelOrder(t.order_sn)})).catch((function(){t.$message({type:"info",message:"不取消"})}))},cancelOrder:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sessionStorage.getItem("selectUId");""!=t&&this.postRequest("/v1/OrderCancellation?order_sn=".concat(t,"&u_id=").concat(i)).then((function(t){"200"==t.data.code&&(e.$message({type:"success",message:"取消成功，费用退回已提交后台~"}),e.$store.commit("CHANGE_ORDER_REFRESH_STATUS"))}))},wheel:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:event;this.bodyMouseWheel(e),(e.wheelDelta>0||e.detail>0)&&(t.length>=_&&_>=0&&(this.bigImgSrc=t[_].path,_--),-1==_&&(_=t.length-1)),(e.wheelDelta<0||e.detail<0)&&(t.length>_&&(this.bigImgSrc=t[_].path,_++),t.length==_&&(_=0))},mouseover:function(t){this.bigImgSrc=t[0].path},bodyMouseWheel:function(t){t.preventDefault()},handleSizeChange:function(t){if(""==this.orderId)return!1;this.initTableData(this.orderId,t,this.currentPage)},handleCurrentChange:function(t){if(""==this.orderId)return!1;this.initTableData(this.orderId,this.pageSize,t)},resetForm:function(t){this.$refs[t].resetFields()},initTableData:function(t,e,i){var o=this;this.tableData=[],this.postRequest("/v1/orderGoodsAobutLists?order_id=".concat(t,"&limit=").concat(e,"&page=").concat(i)).then((function(t){o.tableData=t.data.data.data,o.total=t.data.data.total}))}},computed:{mainData:function(){return this.$store.state.orderManagementMainBottom}},watch:{mainData:function(t,e){t?(this.bottomShowStatus=!0,this.sizeForm=t,this.orderId=t.id,this.order_sn=t.order_sn):this.bottomShowStatus=!1},orderId:function(t,e){this.initTableData(t,this.pageSize,this.currentPage)}}},b=v,C=(i("4e46"),Object(d["a"])(b,h,f,!1,null,"22bb15e6",null)),x=C.exports,w=i("ff0a"),y=i("589d"),k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.scrollButtonShow?i("div",{staticClass:"box_container"},[i("i",{staticClass:"iconfont icon_huidaodingbu",on:{click:t.scrollToTop}})]):t._e()},I=[],S={data:function(){return{scrollButtonShow:!1}},methods:{handleScroll:function(){var t=document.documentElement.scrollTop||document.body.scrollTop;this.scrollButtonShow=t>500},scrollToTop:function(){var t=document.documentElement.scrollTop||document.body.scrollTop,e=setInterval((function(){document.body.scrollTop=document.documentElement.scrollTop=t-=50,t<=0&&clearInterval(e)}),10)}},mounted:function(){window.addEventListener("scroll",this.handleScroll,!0)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)}},D=S,z=(i("ce78"),Object(d["a"])(D,k,I,!1,null,"5e64a434",null)),O=z.exports,L={data:function(){return{pageprop:!1,AssociatedorderItemId:"",AssociatedOrderId:"",productcode:"",goods_name:"",keyword:"",colorlist:[],colorid:0,sizelist:[],sizeid:0,Associateimg:"",Associatename:"",countryselect:[],countryList:[],Shippingmethod:-1,ShippingList:[],orderState:0,buttonList:[{name:"全部",id:0},{name:"新订单",id:1},{name:"生产中",id:2},{name:"已发货",id:3},{name:"已取消",id:4}],timeValue:[],pickerOptions:{shortcuts:[{text:"今天",onClick:function(t){var e=new Date,i=new Date;t.$emit("pick",[i,e])}},{text:"最近一周",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}},{text:"全部",onClick:function(t){var e="1",i="1";t.$emit("pick",[i,e])}}]},shopid:0,checkAllAccount:!1,isIndeterminateAccount:!1,checkAllShop:!1,isIndeterminateShop:!1,checkedAccounts:[],checkedShops:[],checkboxaccount:[0],checkboxshop:[0],AccountList:[],storeList:[],copyShow:!1,checked:{},infoDisabled:!0,Height:{height:"100px",paddingTop:"30px",borderLeft:"1px solid #ccc"},tableHeightMainBtn:{},tableHeightMain:{},tableHeightMain1:{},tableHeightMain3:{},tableHeightMain2:{},size_id:"",color_id:"",editOrderInfo:{},EditactiveName:"1",checkList:[],orderImportDialogVisible:!1,orderImportDialogTableVisible:!1,EditorderImportDialogTableVisible:!1,ProductAssociationDialogTableVisible:!1,EditGoodsInfoDialogVisible:!1,tableHeight:"80vh",loading:!1,pagerCount:5,total:0,rules:{name:[{required:!0,message:"标题不能为空"}]},tableData:[],multipleSelection:[],multipleSelectionId:[],uploadData:{shopid:0,action:"http://api.321.design/v1/excelList?u_id=".concat(sessionStorage.getItem("selectUId")),buttonName:"导入亚马逊订单",autoUpload:!0,componentName:"excel",name:"excel",ext:["xls","xlsx","txt"]},activeName:"first",orderList:{},ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:"",switchValue:!0},orderManagement:{limit:50,order_status:0,country_id:0,shipping_code:-1,times:[],page:1,keyword:"",merchants_user_id:0,store_id:0},editGoodsInfoForm:{order_goods:{goods_id:"",goods_img:"",color_id:"",size_id:"",goods_num:""}},checkedAllOrder:!1}},methods:{handleScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=document.querySelector("#getScroll").offsetTop+150;t>e?this.pageprop=!0:t<e&&(this.pageprop=!1)},ShippingMethod:function(t){this.orderManagement.shipping_code=t,this.initData()},saveProductAssociation:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0==t.colorid||0==t.sizeid){e.next=7;break}return e.next=3,t.api.orderassociation({goodid:t.productcode,orderItemId:t.AssociatedorderItemId,OrderId:t.AssociatedOrderId,colorid:t.colorid,sizeid:t.sizeid});case 3:i=e.sent,200==i.data.code&&(t.$message({type:"success",message:"关联产品成功"}),t.initData(),t.ProductAssociationDialogTableVisible=!1),e.next=8;break;case 7:t.$message({type:"error",message:"请选择商品颜色和尺码！"});case 8:case"end":return e.stop()}}),e)})))()},ProductNumber:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.gooodsbyid({productcode:t.productcode});case 2:i=e.sent,200==i.data.code?(t.colorlist=i.data.data.colors,t.sizelist=i.data.data.sizes,t.Associatename=i.data.data.goods_name,t.Associateimg=i.data.data.img+"?imageView2/2/w/300"):t.$message({type:"error",message:"未找到商品"});case 4:case"end":return e.stop()}}),e)})))()},changeaccount:function(t){0==t?this.checkboxaccount=[0]:-1!=this.checkboxaccount.indexOf(0)&&this.checkboxaccount.splice(this.checkboxaccount.indexOf(0),1),0==this.checkboxaccount.length&&(this.checkboxaccount=[0]),this.orderManagement.merchants_user_id=this.checkboxaccount,this.initData()},changeState:function(t){this.orderManagement.order_status=t,this.initData()},changeshop:function(t){0==t?this.checkboxshop=[0]:-1!=this.checkboxshop.indexOf(0)&&this.checkboxshop.splice(this.checkboxshop.indexOf(0),1),0==this.checkboxshop.length&&(this.checkboxshop=[0]),this.orderManagement.store_id=this.checkboxshop,this.initData()},shopChange:function(t){this.uploadData.shopid=t},handleCheckAllShopChange:function(t){if(t)for(var e=0;e<this.storeList.length;e++){var i=this.storeList[e];this.checkedShops.push(i.id)}else this.checkedShops=[]},handleCheckedShopChange:function(t){var e=t.length;this.checkAll=e===this.storeList.length,this.isIndeterminate=e>0&&e<this.storeList.length},handleCheckAllAccountChange:function(t){if(t)for(var e=0;e<this.storeList.length;e++){var i=this.storeList[e];this.checkedShops.push(i.id)}else this.checkedShops=[]},handleCheckedAccountChange:function(t){var e=t.length;this.checkAll=e===this.storeList.length,this.isIndeterminate=e>0&&e<this.storeList.length},checkedAllOrderChange:function(t){if(t){this.multipleSelection.length=0;for(var e=0;e<this.tableData.length;e++)this.$set(this.checked,"main"+e,!0),this.multipleSelection.push(this.tableData[e].id)}else for(e=0;e<this.tableData.length;e++)this.$set(this.checked,"main"+e,!1),this.multipleSelection.length=0},orderNumSelectChange:function(t,e){if(t)this.multipleSelection.push(e.id);else{var i=this.multipleSelection.indexOf(e.id);this.multipleSelection.splice(i,1)}},resetBox:function(){},searchorder:function(){this.orderManagement.keyword=this.keyword,this.orderManagement.country_id=this.countryselect,this.orderManagement.times=this.timeValue,this.initData()},resetorder:function(){this.keyword="",this.countryselect=[],this.timeValue=[],this.orderManagement.keyword=this.keyword,this.orderManagement.country_id=this.countryselect,this.orderManagement.times=this.timeValue,this.initData()},cancelSaveOrderGoodsInfo:function(){this.EditGoodsInfoDialogVisible=!1},saveOrderGoodsInfo:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.orderassociation({goodid:t.editGoodsInfoForm.order_goods.goods_id,orderItemId:t.editGoodsInfoForm.order_goods.id,OrderId:t.editGoodsInfoForm.order_goods.order_id,colorid:t.editGoodsInfoForm.order_goods.color_id,sizeid:t.editGoodsInfoForm.order_goods.size_id});case 2:e.sent,t.successMess("修改产品成功"),t.getOrderDetail(t.editGoodsInfoForm.order_goods.order_id),t.initData(),t.EditGoodsInfoDialogVisible=!1;case 7:case"end":return e.stop()}}),e)})))()},deleteGoodsInfo:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.api.orderGoodsDelete({order_goods_id:t});case 2:o=i.sent,200==o.data.code&&(e.$message({type:"success",message:"删除产品成功"}),e.getOrderDetail(e.editOrderInfo.id));case 4:case"end":return i.stop()}}),i)})))()},beforeDeleteGoodsInfo:function(t,e){var i=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.deleteGoodsInfo(e),i.initData()})).catch((function(){i.$message({type:"info",message:"已取消删除"})}))},editGoodsInfo:function(t,e){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){var s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return i.EditGoodsInfoDialogVisible=!0,o.next=3,i.api.orderProduct({order_goods_id:e,goods_id:t});case 3:s=o.sent,console.log(s),200==s.data.code&&(i.editGoodsInfoForm=s.data.data);case 6:case"end":return o.stop()}}),o)})))()},clickEditOrder:function(t){this.EditorderImportDialogTableVisible=!0,this.editOrderInfo=t,this.Height.height=100*this.editOrderInfo.goods_info.length+"px",this.Height.paddingTop=.5*(100*this.editOrderInfo.goods_info.length-50)+"px"},getOrderDetail:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.api.orderDetail({order_id:t});case 2:o=i.sent,200==o.data.code&&(e.editOrderInfo=o.data.data,e.Height.height=100*e.editOrderInfo.goods_info.length+"px",e.Height.paddingTop=.5*(100*e.editOrderInfo.goods_info.length-50)+"px");case 4:case"end":return i.stop()}}),i)})))()},handleClickTab:function(){},clickAssociatedPro1:function(){window.location.href="http://design.321.design/index/index/hicustom/?oderid=".concat(this.AssociatedOrderId,"&orderItemId=").concat(this.AssociatedorderItemId,"&userid=").concat(sessionStorage.getItem("selectUId"))},cancelSaveProductAssociation:function(){this.ProductAssociationDialogTableVisible=!1},clickAssociatedPro:function(t){console.log(t.goods_info[0].goods_name),this.colorlist=[],this.sizelist=[],this.Associatename="",this.Associateimg="",this.productcode="",this.colorid=0,this.sizeid=0,this.AssociatedorderItemId=t.goods_info[0].id,this.AssociatedOrderId=t.id,this.goods_name=t.goods_info[0].goods_name,this.ProductAssociationDialogTableVisible=!0},cancelImport:function(){this.orderImportDialogTableVisible=!1,this.orderImportDialogVisible=!1},cancelImport1:function(){this.orderImportDialogVisible=!1},confirmImport:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.orderList.info.length){e.next=4;break}t.$message({message:"订单为空",type:"error"}),e.next=10;break;case 4:return i=JSON.stringify(t.orderList.info),e.next=7,t.api.OrderImport({info:i,store_id:t.uploadData.shopid});case 7:o=e.sent,200==o.data.code&&(t.orderImportDialogTableVisible=!1,t.orderImportDialogVisible=!1,t.$message({message:"导入成功",type:"success"})),t.initData();case 10:case"end":return e.stop()}}),e)})))()},isBlock:function(t){this.orderList=t,this.orderImportDialogTableVisible=!0},clickEdit:function(t){this.$store.commit("CHANGE_ORDER_DATA",""),this.tableHeight="80vh",this.$store.commit("CHANGE_ORDER_DATA",t)},getGoods_sn:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.gooodsbyid({productcode:t.editGoodsInfoForm.order_goods.goods_id});case 2:i=e.sent,console.log(i.data.data),t.$set(t.editGoodsInfoForm,"colors",i.data.data.colors),t.$set(t.editGoodsInfoForm.order_goods,"color_id",i.data.data.colors[0].id),t.$set(t.editGoodsInfoForm,"size",i.data.data.sizes),t.$set(t.editGoodsInfoForm.order_goods,"size_id",i.data.data.sizes[0].id),t.$set(t.editGoodsInfoForm.order_goods,"goods_img",i.data.data.img),t.$set(t.editGoodsInfoForm,"name",i.data.data.goods_cn_name),t.$set(t.editGoodsInfoForm,"en_name",i.data.data.goods_name);case 11:case"end":return e.stop()}}),e)})))()},changeColor:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.postRequest("v1/changeThisInputsColor",{color_id:t,goods_id:e.editGoodsInfoForm.order_goods.goods_id});case 2:o=i.sent,e.$set(e.editGoodsInfoForm.order_goods,"goods_img",o.data.data);case 4:case"end":return i.stop()}}),i)})))()},onError:function(t){this.$message({message:"复制失败！",type:"error"})},copyFun:function(t){this.$message({message:"复制成功！",type:"success"})},orderImport:function(){this.orderImportDialogVisible=!0},changeMainHeight:function(){this.tableHeight="80vh"},tableRowClassName:function(t){var e=t.row;t.rowIndex;return 1==e.is_urgent?"urgentBackgroundColor":""},handleSizeChange:function(t){this.orderManagement.limit=t,this.initData()},handleCurrentChange:function(t){this.orderManagement.page=t,this.initData()},exportOrder:function(){var t=this,e="";this.multipleSelection.length>0?(e=this.multipleSelection.join(","),this.postRequest("/v1/exportExcel?id=".concat(e)).then((function(e){"200"==e.data.code?window.location.href=e.data.data:t.$message({type:"warning",message:"导出出现问题，请重试~"})}))):this.$message({message:"请选择需要导出的订单记录！",type:"warning"})},updateLogisticsInfo:function(){this.multipleSelection.length>0?this.multipleSelection.join(","):this.$message({message:"请选择需要更新的订单！",type:"warning"})},generateWaybillNumber:function(){this.$message({message:"订单当前状态不允许重新生成运单，请联系管理员！",type:"warning"})},SetUrgentOrder:function(){var t=this,e="";this.multipleSelection.length>0?(e=this.multipleSelection.join(","),this.postRequest("/v1/orderEditurgent?order_id=".concat(e)).then((function(e){"200"==e.data.code?(t.$message({type:"success",message:"设置成功~"}),t.initData()):t.$message({message:"订单当前状态无需加急",type:"warning"})}))):this.$message({message:"请选择订单",type:"warning"})},orderMatching:function(){},orderSplit:function(){var t=this,e="";1==this.multipleSelection.length?(e=this.multipleSelection.join(","),this.postRequest("/v1/split?order_id=".concat(e)).then((function(e){"200"==e.data.code?(t.$message({type:"success",message:"订单拆分成功~"}),t.initData()):t.$message({message:"订单拆分失败",type:"warning"})}))):this.multipleSelection.length>1?this.$message({message:"只能选择一条订单拆分",type:"warning"}):this.$message({message:"请选择订单",type:"warning"})},toggleSelection:function(t){var e=this;t?t.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t)})):this.$refs.multipleTable.clearSelection()},initData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sessionStorage.getItem("selectUId");this.multipleSelection.length=0,this.loading=!0,this.postRequest("/v1/orderStatusCate?u_id=".concat(e),this.orderManagement).then((function(e){if(console.log(e),"200"==e.data.code){t.tableData=e.data.data.data,t.total=e.data.data.total,t.loading=!1;for(var i=0;i<t.tableData.length;i++){t.$set(t.checked,"main"+i,!1);var o={};o.height=100*t.tableData[i].goods_info.length+"px",o.paddingTop=.5*(100*t.tableData[i].goods_info.length-15)+"px",o.borderLeft="1px solid #ccc";var s={};s.height=100*t.tableData[i].goods_info.length+"px",s.paddingTop=.5*(100*t.tableData[i].goods_info.length-30)+"px",s.borderLeft="1px solid #ccc";var a={};a.height=100*t.tableData[i].goods_info.length+"px",a.paddingTop=.5*(100*t.tableData[i].goods_info.length-45)+"px",a.borderLeft="1px solid #ccc";var n={};n.height=100*t.tableData[i].goods_info.length+"px",n.paddingTop=.5*(100*t.tableData[i].goods_info.length-60)+"px",n.borderLeft="1px solid #ccc";var r={};r.height=100*t.tableData[i].goods_info.length+"px",r.paddingTop=.5*(100*t.tableData[i].goods_info.length-25)+"px",r.borderLeft="1px solid #ccc",t.$set(t.tableHeightMainBtn,"main"+i,r),t.$set(t.tableHeightMain3,"main"+i,n),t.$set(t.tableHeightMain2,"main"+i,a),t.$set(t.tableHeightMain1,"main"+i,s),t.$set(t.tableHeightMain,"main"+i,o)}}}))},logisticsList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.logisticsList();case 2:i=e.sent,t.ShippingList=i.data.data,t.ShippingList.unshift({id:-1,courier_name:"全部"}),t.ShippingList.push({id:0,courier_name:"无"});case 6:case"end":return e.stop()}}),e)})))()},initCountryCity:function(){var t=this;this.postRequest("/v1/goodsCoutry").then((function(e){t.countryList=e.data.data}))},getAccountList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.subaccountList();case 2:i=e.sent,200==i.data.code&&(t.AccountList=i.data.data);case 4:case"end":return e.stop()}}),e)})))()},getStoreList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.stoLists();case 2:i=e.sent,200==i.data.code&&(t.storeList=i.data.data,t.storeList.length>0&&(t.uploadData.shopid=t.storeList[0].id));case 4:case"end":return e.stop()}}),e)})))()},handleClickCell:function(t){this.tableHeight="80vh",this.$store.commit("CHANGE_ORDER_DATA",t)},handleSelectionChange:function(t){for(var e in this.multipleSelection=[],t)if(t.hasOwnProperty(e)){var i=t[e];for(var o in this.multipleSelection.push(i),i.sub_goods)if(i.sub_goods.hasOwnProperty(o)){var s=i.sub_goods[o];this.multipleSelection.push(s)}}},handleId:function(t){for(var e in this.multipleSelectionId=[],t)if(t.hasOwnProperty(e)){var i=t[e];this.multipleSelectionId.push(i.id)}}},computed:{cateId:function(){return this.$store.state.orderManagement.product_cate_id},shopStatus:function(){return this.$store.state.orderManagement.order_status},orderShinpingCode:function(){return this.$store.state.orderManagement.shipping_code},orderTime:function(){return this.$store.state.orderManagement.times},orderCountry:function(){return this.$store.state.orderManagement.country_id},orderLimit:function(){return this.$store.state.orderManagement.limit},orderPage:function(){return this.$store.state.orderManagement.page},orderSearchVal:function(){return this.$store.state.orderManagement.tracking_num},orderRefreshStatus:function(){return this.$store.state.orderRefreshStatus},changeUserId:function(){return this.$store.state.changeUserId}},watch:{multipleSelection:function(t,e){t.length==this.tableData.length?this.checkedAllOrder=!0:this.checkedAllOrder=!1},cateId:function(t,e){this.initData()},shopStatus:function(t,e){sessionStorage.setItem("orderStatus",t),this.initData()},orderCountry:function(t,e){this.initData()},orderShinpingCode:function(t,e){this.initData()},orderTime:function(t,e){this.initData()},orderPage:function(t,e){this.initData()},orderLimit:function(t,e){this.initData()},orderSearchVal:function(t,e){this.initData()},orderRefreshStatus:function(t,e){this.initData()},changeUserId:function(t,e){this.initData()}},components:{mainBottom:x,uploadExcel:w["a"],uploadTxt:y["a"],scrollButton:O},created:function(){this.initData(),this.getStoreList(),this.getAccountList(),this.logisticsList(),this.initCountryCity()},mounted:function(){window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)}},$=L,A=(i("3971"),Object(d["a"])($,g,m,!1,null,"b1ee6ad6",null)),R=A.exports,T={data:function(){return{componentName:"OrderManagement"}},beforeDestroy:function(){var t=sessionStorage.getItem("userId");sessionStorage.setItem("selectUId",t)},components:{catalogueOfProducts:p,orderManagementMain:R}},F=T,B=(i("cb94"),Object(d["a"])(F,o,s,!1,null,"51c10045",null));e["default"]=B.exports},c810:function(t,e,i){},caa2:function(t,e,i){"use strict";var o=i("0af3"),s=i.n(o);s.a},cb94:function(t,e,i){"use strict";var o=i("131e"),s=i.n(o);s.a},ce78:function(t,e,i){"use strict";var o=i("1f35"),s=i.n(o);s.a}}]);
//# sourceMappingURL=chunk-9a1ec368.a058a59f.js.map