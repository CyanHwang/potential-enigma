(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-214a7c32"],{"02bd":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("editTemplate")],1)},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.editTemplateLoading,expression:"editTemplateLoading"}],staticClass:"amazonTemplate editTemplate"},[a("div",{staticStyle:{position:"fixed",top:"50px","text-align":"left",width:"100%",height:"25px","padding-left":"10px","box-shadow":"0 3px 3px rgba(0,0,0,.1)","padding-top":"10px","padding-bottom":"10px",background:"#fff","z-index":"2"}},[a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"small"},on:{click:function(e){return t.goback()}}},[t._v("返回")]),a("el-button",{staticClass:"btnStyle",attrs:{size:"small",disabled:t.saveDisabled},on:{click:function(e){return t.handleEditTemplate()}}},[t._v("保存并编辑")])],1),a("el-form",{ref:"customTemplateFormRef",staticStyle:{"padding-top":"50px"},attrs:{model:t.customTemplateForm,rules:t.customTemplateFormRules}},[a("el-form-item",{attrs:{label:"所属店铺: ","label-width":"130px"}},[a("el-select",{attrs:{placeholder:"请选择店铺"},on:{change:t.storeNameChange},model:{value:t.customTemplateForm.store_name,callback:function(e){t.$set(t.customTemplateForm,"store_name",e)},expression:"customTemplateForm.store_name"}},t._l(t.storeList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.store_name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"模板名称: ","label-width":"130px"}},[a("el-input",{attrs:{placeholder:"Template Name"},model:{value:t.customTemplateForm.template_name,callback:function(e){t.$set(t.customTemplateForm,"template_name",e)},expression:"customTemplateForm.template_name"}})],1),a("el-form-item",{attrs:{label:"模板国家: ","label-width":"130px"}},[a("el-select",{attrs:{placeholder:"请选择国家"},model:{value:t.customTemplateForm.template_country,callback:function(e){t.$set(t.customTemplateForm,"template_country",e)},expression:"customTemplateForm.template_country"}},t._l(this.countryList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.zone_name,value:t.zone_name}})})),1)],1),a("el-form-item",{attrs:{label:"产品类型: ","label-width":"130px"}},[a("el-select",{attrs:{placeholder:"请选择模板类型"},on:{change:t.productTypeChange},model:{value:t.customTemplateForm.product_type,callback:function(e){t.$set(t.customTemplateForm,"product_type",e)},expression:"customTemplateForm.product_type"}},t._l(this.productTypeList,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"售卖形式: ","label-width":"130px"}},[a("el-radio-group",{model:{value:t.customTemplateForm.sales_type,callback:function(e){t.$set(t.customTemplateForm,"sales_type",e)},expression:"customTemplateForm.sales_type"}},[a("el-radio",{attrs:{label:"单品"}},[t._v("单品")]),a("el-radio",{attrs:{label:"尺码变体"}},[t._v("尺码变体")]),a("el-radio",{attrs:{label:"颜色尺码变体"}},[t._v("颜色尺码变体")]),a("el-radio",{staticStyle:{"margin-right":"0!important"},attrs:{label:"产品变体"}},[t._v(" 产品变体 "),a("el-popover",{staticStyle:{"font-size":"10px!important"},attrs:{placement:"top-start",width:"285",trigger:"hover",content:"将多个定制产品按照“合并数量汇出成1个母字母， 为了保证颜色唯一性，汇出的相同颜色将固定加上序号”"}},[a("el-button",{staticStyle:{height:"10px",border:"none!important",padding:"0!important"},attrs:{slot:"reference",icon:"el-icon-question"},slot:"reference"})],1)],1)],1)],1),"产品变体"==this.customTemplateForm.sales_type?a("div",{staticClass:"productVariantBox"},[a("el-form-item",{attrs:{label:"合并数量: ","label-width":"128px"}},[a("el-input",{staticStyle:{width:"550px!important"},attrs:{type:"number",placeholder:"最多支持30个合并数量"},model:{value:t.customTemplateForm.concatNumber,callback:function(e){t.$set(t.customTemplateForm,"concatNumber",e)},expression:"customTemplateForm.concatNumber"}})],1),a("el-form-item",{staticStyle:{"line-height":"30px"},attrs:{label:"颜色名称生成规则:","label-width":"128px"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVarTogether()},blur:function(e){return t.InsertTogetherBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right-start"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varTogetherIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarTogether?a("ul",{staticClass:"nameList nameList1",on:{mouseleave:t.InsertTogetherBlur,click:function(e){return t.selectProductNameTogether()}}},t._l(t.varListTogether,(function(e,i){return a("li",{key:i,staticClass:"indexLi",on:{click:function(a){return t.selectVarTogether("editColorNameRegular",e.value)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"550px!important","margin-left":"12px"},attrs:{type:"textarea",id:"editColorNameRegular",rows:1},model:{value:t.customTemplateForm.colorNameRegular,callback:function(e){t.$set(t.customTemplateForm,"colorNameRegular",e)},expression:"customTemplateForm.colorNameRegular"}})],1)],1):t._e(),a("el-form-item",{attrs:{label:"汇出格式: ","label-width":"130px"}},[a("el-radio-group",{model:{value:t.customTemplateForm.or_format,callback:function(e){t.$set(t.customTemplateForm,"or_format",e)},expression:"customTemplateForm.or_format"}},[a("el-radio",{attrs:{label:"txt"}},[t._v("txt")]),a("el-radio",{attrs:{label:"xlsx"}},[t._v("xlsx")])],1)],1),a("el-form-item",{attrs:{label:"商品编码: ","label-width":"130px",id:"code_item"}},[a("el-select",{attrs:{id:"code"},model:{value:t.customTemplateForm.goods_code,callback:function(e){t.$set(t.customTemplateForm,"goods_code",e)},expression:"customTemplateForm.goods_code"}},[a("el-option",{attrs:{label:"不汇出",value:"不汇出"}}),a("el-option",{attrs:{label:"编码生成",value:"编码生成"}}),a("el-option",{attrs:{label:"编码导入",value:"编码导入"}})],1)],1),a("el-form-item",{attrs:{label:"同步产品图片域名: ","label-width":"130px"}},[a("el-input",{attrs:{placeholder:"仅亚马逊平台需要填写，默认:http://amus.hicustom.com"},model:{value:t.customTemplateForm.domain_name,callback:function(e){t.$set(t.customTemplateForm,"domain_name",e)},expression:"customTemplateForm.domain_name"}}),a("div",{staticClass:"imageIntro"},[t._v(" 如需要独立图片域名，请 "),a("span",{staticClass:"buy"},[t._v("点击直接购买")]),t._v("并填入您的域名给客服处理。（自行填写系统未设定的域名会无法显示图片） ")])],1),a("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"产品图片: ","label-width":"130px"}},[a("div",{staticStyle:{height:"20px","line-height":"20px","font-size":"12px","margin-bottom":"30px"}},[a("span",{staticStyle:{background:"#129ba7","padding-left":"5px",color:"#fff"}},[t._v("说明！")]),t._v(" 点击图片拖动，即可调整图片顺序！ [图片最多选择9张，已经选择了2张] "),a("br"),a("span",{staticStyle:{"margin-left":"45px"}},[t._v(" 每个变种将分别按照以下顺序汇出图片。[可在定制产品列表查看产品各颜色的效果图 "),a("i",{staticClass:"el-icon-question"}),t._v("] ")])]),a("ul",{ref:"parentNode",staticStyle:{overflow:"hidden","margin-right":"0px",display:"inline-block"},on:{dragstart:t.onDragStart,dragover:t.onDragOver,dragend:t.onDragEnd}},t._l(this.fileList,(function(e,i){return a("li",{key:i,class:0==i?"resPicLiActive":"resPicLi",staticStyle:{float:"left!important",position:"relative",width:"100px",height:"100px",border:"1px solid #ccc","margin-right":"10px","margin-bottom":"10px",background:"#fafafa","font-size":"10px!important"},attrs:{draggable:!0}},[0==i?a("el-tag",{staticStyle:{position:"absolute",top:"-2px",left:"-2px"},attrs:{type:"danger",size:"mini"}},[t._v("主图")]):t._e(),""!==e.url?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.url,expression:"item.url"}],staticStyle:{float:"left",width:"100px",height:"100px"}}):t._e(),""==e.url?a("p",{staticStyle:{position:"absolute",top:"20px",left:"25px","text-align":"center"}},[t._v(t._s("{"+e.index+"}"))]):t._e(),a("div",{staticStyle:{width:"100px",height:"25px","line-height":"25px",background:"#3ba5ea",position:"absolute",bottom:"0",left:"0",color:"#fff","text-align":"center"}},[0!==i?a("span",{staticStyle:{cursor:"pointer","z-index":"9999","margin-right":"15px"},on:{click:function(e){return t.setMainPic(i)}}},[t._v(" 设为主图")]):t._e(),a("span",{staticStyle:{cursor:"pointer","z-index":"9999"},on:{click:function(e){return t.removeResultPic(i)}}},[t._v(" 移除")])])],1)})),0),this.length<9?a("div",{staticStyle:{display:"inline-block",width:"220px",position:"relative"}},[a("div",{staticStyle:{display:"inline-block",width:"100px",height:"100px",border:"1px dashed #ccc",position:"relative","margin-bottom":"10px"},on:{mouseover:function(e){t.insertVariable=!0},mouseleave:t.varBoxLeave}},[a("i",{staticClass:"el-icon-plus plus",attrs:{slot:"default"},slot:"default"})]),this.insertVariable?a("ul",{staticClass:"varUl",staticStyle:{position:"absolute",top:"0",left:"100px",width:"70px",border:"1px solid #ccc"}},[a("li",{on:{mouseover:function(e){t.resultPic=!0},mouseleave:function(e){return t.variableMouseleave()}}},[t._v("插入变量")]),a("li",{on:{click:function(e){return t.insertNativeImg()},mouseleave:function(e){return t.nativeMouseleave()},mouseover:function(e){t.resultPic=!1}}},[t._v("本地图片")]),a("li",{on:{click:function(e){return t.insertSourceImg()},mouseleave:function(e){return t.nativeMouseleave()},mouseover:function(e){t.resultPic=!1}}},[t._v("素材图片")])]):t._e(),this.resultPic?a("div",{staticStyle:{position:"absolute",top:"0",left:"170px",width:"70px",border:"1px solid #ccc","z-index":"3000!important",background:"#fff"},on:{mouseleave:t.mouseleave}},t._l(t.resultWordList,(function(e){return a("ul",{key:e.index,staticClass:"resultUl"},[a("li",{on:{click:function(a){return t.confirmInserVar(e.name)}}},[t._v(t._s(e.name))])])})),0):t._e()]):t._e()]),this.changeProductType?a("el-collapse",{staticStyle:{"padding-left":"20px"}},t._l(t.productVaribles,(function(e,i){return a("div",{key:i},[a("el-collapse-item",[a("template",{slot:"title"},[t._v(" "+t._s(e[0].name)+" ")]),t._l(e,(function(i,r){return 0!==r?a("el-form-item",{key:r,staticClass:"collapseItem",attrs:{label:i.name+":","label-width":"210px",required:"Required"==e[0].name&&"Required"==i.type&&"main_image_url"!==i.name}},["standard_price"==i.name?a("div",{staticStyle:{height:"20px","line-height":"20px","font-size":"12px"}},[a("span",{staticStyle:{background:"#129ba7","padding-left":"5px",color:"#fff"}},[t._v("说明！")]),t._v(" 变种价格规则，可在产品汇出时根据颜色或尺码设定 ")]):t._e(),!i.params||"color"===i.name||"color_map"===i.name||"size_map"===i.name||"size"===i.name||"item_name"===i.name&&"product_description"===i.name&&"bullet_point1 - bullet_point5"===i.name&&"thesaurus_subject_keywords1 - thesaurus_subject_keywords3"===i.name?"item_name"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur(i.name)}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVar?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdTtemName",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{id:"InsertVarIdTtemName",type:"textarea",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"product_description"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarDes?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdProDes",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdProDes",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"bullet_point1"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul1?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdPoint1",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdPoint1",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"bullet_point2"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul2?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdPoint2",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdPoint2",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"bullet_point3"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul3?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdPoint3",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdPoint3",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"bullet_point4"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul4?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdPoint4",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdPoint4",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"bullet_point5"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul5?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdPoint5",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdPoint5",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"thesaurus_subject_keywords1"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarKey1?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdSubKey1",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdSubKey1",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"thesaurus_subject_keywords2"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarKey2?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdSubKey2",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdSubKey2",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"thesaurus_subject_keywords3"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarKey3?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdSubKey3",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdSubKey3",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"generic_keywords"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarGeneric?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdKey",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdKey",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"color"===i.name||i.params&&"color_map"===i.name||"color_name"===i.name?a("el-input",{staticClass:"defaultSizeColorInput",attrs:{value:"根据产品颜色自动生成"}}):"size"===i.name||i.params&&"size_map"===i.name||"size_name"===i.name?a("el-input",{staticClass:"defaultSizeColorInput",attrs:{value:"根据产品尺码自动生成"}}):a("el-input",{attrs:{placeholder:i.name},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}}):a("el-select",{model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}},t._l(i.params,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1):t._e()}))],2)],1)})),0):a("el-collapse",{staticStyle:{"padding-left":"20px"}},t._l(t.productVaribles,(function(e,i){return a("div",{key:i},[a("el-collapse-item",[a("template",{slot:"title"},[t._v(" "+t._s(e.name)+" ")]),t._l(e.sub,(function(i,r){return a("el-form-item",{key:r,staticClass:"collapseItem",attrs:{label:i.name+":","label-width":"210px",required:"Required"==e.name&&"Required"==i.type&&"main_image_url"!==i.name}},["standard_price"==i.name?a("div",{staticStyle:{height:"20px","line-height":"20px","font-size":"12px"}},[a("span",{staticStyle:{background:"#129ba7","padding-left":"5px",color:"#fff"}},[t._v("说明！")]),t._v(" 变种价格规则，可在产品汇出时根据颜色或尺码设定 ")]):t._e(),!i.params||"color"===i.name||"color_map"===i.name||"size_map"===i.name||"size"===i.name||"item_name"===i.name&&"product_description"===i.name&&"bullet_point1 - bullet_point5"===i.name&&"thesaurus_subject_keywords1 - thesaurus_subject_keywords3"===i.name?"item_name"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur(i.name)}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVar?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdTtemName",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{id:"InsertVarIdTtemName",type:"textarea",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"product_description"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarDes?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdProDes",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdProDes",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"bullet_point1"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul1?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdPoint1",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdPoint1",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"bullet_point2"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul2?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdPoint2",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdPoint2",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"bullet_point3"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul3?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdPoint3",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdPoint3",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"bullet_point4"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul4?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdPoint4",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdPoint4",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"bullet_point5"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul5?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdPoint5",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdPoint5",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"thesaurus_subject_keywords1"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarKey1?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdSubKey1",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdSubKey1",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"thesaurus_subject_keywords2"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarKey2?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdSubKey2",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdSubKey2",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"thesaurus_subject_keywords3"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarKey3?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdSubKey3",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdSubKey3",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"generic_keywords"===i.name?a("div",{staticStyle:{display:"inline-block",width:"800px",position:"relative"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(i.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarGeneric?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(i.name)}}},t._l(t.VarList,(function(e,r){return a("li",{key:r,staticClass:"indexLi",on:{click:function(a){return t.insertInputTxt("InsertVarIdKey",e.value,i.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"700px!important","margin-top":"-8px"},attrs:{type:"textarea",id:"InsertVarIdKey",rows:4},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}})],1):"color"===i.name||i.params&&"color_map"===i.name||"color_name"===i.name?a("el-input",{staticClass:"defaultSizeColorInput",attrs:{value:"根据产品颜色自动生成"}}):"size"===i.name||i.params&&"size_map"===i.name||"size_name"===i.name?a("el-input",{staticClass:"defaultSizeColorInput",attrs:{value:"根据产品尺码自动生成"}}):a("el-input",{attrs:{placeholder:i.name},model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}}):a("el-select",{model:{value:i.values,callback:function(e){t.$set(i,"values",e)},expression:"item1.values"}},t._l(i.params,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1),"item_sku"==i.name?a("div",{staticStyle:{"font-size":"12px",margin:"-10px 0 10px 95px"}},[a("p",{staticStyle:{height:"20px"}},[t._v("1.sku可添加前缀，例如：Exceple_123456,For_example_")])]):t._e()],1)}))],2)],1)})),0)],1),a("div",{staticStyle:{"text-align":"left","margin-left":"20px","margin-top":"20px","padding-bottom":"10px"}},[a("el-button",{staticClass:"btnStyle",attrs:{size:"small",disabled:t.saveDisabled},on:{click:function(e){return t.handleEditTemplate()}}},[t._v("保存并编辑")])],1),a("el-dialog",{staticClass:"insertImgDialog",attrs:{title:"插入图片",visible:t.insertImgDialogVisible,width:"70%"},on:{"update:visible":function(e){t.insertImgDialogVisible=e},closed:t.insertIMgClose}},[a("el-tabs",{on:{"tab-click":t.handleClickInsertImg},model:{value:t.insertImgActiveName,callback:function(e){t.insertImgActiveName=e},expression:"insertImgActiveName"}},[a("el-tab-pane",{attrs:{name:"first"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-monitor"}),t._v(" 本地 ")]),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",multiple:"",action:"http://api.321.design/v1/TemplateUploadImgs",data:t.imgQuery,name:"image","list-type":"picture-card","auto-upload":!1,"file-list":t.fileListNative,"on-success":t.handleSuccess}},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1),a("el-tab-pane",{attrs:{name:"second"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-picture-outline"}),t._v(" 素材 ")]),a("div",{staticClass:"search"},[a("el-input",{model:{value:t.sourceImgName,callback:function(e){t.sourceImgName=e},expression:"sourceImgName"}}),a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("搜索")])],1),a("div",{staticClass:"textRight"},[a("el-pagination",{staticClass:"displayInlineBlock",attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50],"page-size":10,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}),a("div",{staticClass:"common displayInlineBlock"},[t._v("共"+t._s(t.total)+"张")])],1),a("div",{staticClass:"sourceListBox"},[a("el-checkbox-group",{on:{change:t.selectSourceImgChange},model:{value:t.checkedSourceImgsIds,callback:function(e){t.checkedSourceImgsIds=e},expression:"checkedSourceImgsIds"}},t._l(t.sourceImgList,(function(e,i){return a("el-checkbox",{key:i,staticClass:"imgLibox",attrs:{label:e,name:e.id+""}},[a("div",{staticClass:"imgBox"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.path,expression:"item.path"}],attrs:{alt:""}}),a("div",{staticClass:"box"},[a("span",{staticClass:"fl"},[t._v(t._s(e.width)+"*"+t._s(e.height))]),a("span",{staticClass:"fr"},[t._v(t._s(e.size))])])]),a("p",[t._v(t._s(e.name))])])})),1)],1)])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.insertImgDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:t.insertImgUpload}},[t._v("确 定")])],1)],1)],1)},l=[],s=(a("7db0"),a("c740"),a("a630"),a("c975"),a("a15b"),a("d81d"),a("a434"),a("b0c0"),a("d3b7"),a("3ca3"),a("4c53"),a("ddb0"),a("96cf"),a("1da1")),o={data:function(){return{checkedSourceImgsIds:[],sourceImgList:[],sourceImgName:"",imgQuery:{id:"",u_id:""},insertImgActiveName:"first",changeProductType:!1,productTypeList:[],VarDialogVisibleTogether:!1,insertImgDialogVisible:!1,IsInsertVarTogether:!1,editTemplateLoading:!1,VarList:[{name:"主题名称",value:"{designName}",values_alias:"{$designName}"},{name:"空白产品名称",value:"{productName}",values_alias:"{$productName}"},{name:"产品标签",value:"{tags}",values_alias:"{$tags}"},{name:"颜色名称",value:"{colorName}",values_alias:"{$colorName}"},{name:"尺码名称",value:"{sizeName}",values_alias:"{$sizeName}"},{name:"空白产品编号",value:"{productTypeId}",values_alias:"{$productTypeId}"},{name:"定制产品编号",value:"{customProductId}",values_alias:"{$customProductId}"},{name:"品牌",value:"{brandName}",values_alias:"{$brandName}"}],varListTogether:[{name:"主题名称",value:"{designName}"},{name:"空白产品名称",value:"{productName}"},{name:"颜色名称",value:"{colorName}"},{name:"序号",value:"{number}"}],VarDialogVisible:!1,varIntro:[{var_title:"主题名称",var_name:"{designName}",var_intro:"读取店铺对应语言的主题名称，若产品设置了店铺别名，将读取店铺别名。"},{var_title:"空白产品名称",var_name:"{productName}",var_intro:"读取店铺对应语言的空白产品名称。"},{var_title:"产品标签",var_name:"{tags}",var_intro:"读取全部产品标签，使用变量{tags}；读取前几个产品标签，并加上后缀词，使用变量{tag+个数+后缀词}，如{tag5 t shirt}；读取随机几个产品标签，并加上后缀词，使用变量{rtag+个数+后缀词} ，如{rtag5 Case}"},{var_title:"颜色名称",var_name:"{colorName}",var_intro:"模板中设置了自定义颜色名称时，将读取自定义名称。"},{var_title:"尺码名称",var_name:"{sizeName}",var_intro:"模板中设置了自定义尺码名称时，将读取自定义名称。"},{var_title:"空白产品编号",var_name:"{productTypeId}",var_intro:"读取对应的空白产品编号。"},{var_title:"定制产品编号",var_name:"{customProductId}",var_intro:"读取对应的定制产品编号。"},{var_title:"品牌",var_name:"\t{brandName}",var_intro:"读取当前模板中所填写的品牌名称。"},{var_title:"其他",var_name:"\t{词组A,词组B,词组C}",var_intro:"可在文本框中按变量格式输入多个词组（不限数量），并用“,”隔开，汇出时每个变体将随机读取1个词组。"}],varTogetherIntro:[{var_title:"主题名称",var_name:"{designName}",var_intro:"读取店铺对应语言的主题名称，若产品设置了店铺别名，将读取店铺别名。"},{var_title:"空白产品名称",var_name:"{productName}",var_intro:"读取店铺对应语言的空白产品名称。"},{var_title:"颜色名称",var_name:"{colorName}",var_intro:"模板中设置了自定义颜色名称时，将读取自定义名称。"},{var_title:"序号",var_name:"\t{number}",var_intro:"“1，2，3，4.....”的数字序号"}],IsInsertVar:!1,IsInsertVarDes:!1,IsInsertVarBul1:!1,IsInsertVarBul2:!1,IsInsertVarBul3:!1,IsInsertVarBul4:!1,IsInsertVarBul5:!1,IsInsertVarKey1:!1,IsInsertVarKey2:!1,IsInsertVarKey3:!1,IsInsertVarGeneric:!1,resultWordList:[{index:0,name:"全部"},{index:1,name:"效果图1"},{index:2,name:"效果图2"},{index:3,name:"效果图3"},{index:4,name:"效果图4"},{index:5,name:"效果图5"},{index:6,name:"效果图6"},{index:7,name:"效果图7"},{index:8,name:"效果图8"},{index:9,name:"效果图9"}],resultPic:!1,insertVariable:!1,fileListNative:[],fileList:[],uploadData:{action:"http://api.321.design/v1/TemplateField",buttonName:"导入自定义模板",autoUpload:!0,componentName:"excel",name:"excel"},tableData:[],selectedRank:"1",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶双皮奶双皮奶双皮奶双皮奶双皮奶v"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],shop:"",templateType:"",templateName:"",createdTime:"",endedTime:"",dialogImportTemVisible:!1,productVaribles:[],customTemplateForm:{store_name:"",template_name:"",template_country:"",template_country_id:0,product_type:"",templateSort:"",sales_type:"单品",goods_code:"",domain_name:"",or_format:"",imgs:"",data:[]},customTemplateFormBot:{},customTemplateFormRules:{},isAdd:[],addIndex:0,countryList:[],dialogImageUrl:"",dialogVisible:!1,disabled:!1,templateId:"",varibleInfo:"",imageList:[],imageBox:[],saveDisabled:!1,plusDisabled:!0,currentPage:1,total:0,pagerCount:10,storeList:[]}},methods:{storeNameChange:function(){console.log(this.customTemplateForm.store_name)},variableMouseleave:function(){},nativeMouseleave:function(){this.resultPic=!1},handleSizeChange:function(t){this.getSourceImgList()},handleCurrentChange:function(t){this.currentPage=t,this.getSourceImgList()},selectSourceImgChange:function(t){console.log(t)},insertIMgClose:function(){this.checkedSourceImgsIds=[]},handleSuccess:function(t,e,a){console.log(e),console.log(this.fileList),this.fileList.length<9&&this.fileList.push({index:"",type:"2",url:e.url}),this.insertImgDialogVisible=!1},insertImgUpload:function(){if("first"==this.insertImgActiveName)this.imgQuery.id=this.templateId,this.imgQuery.u_id=sessionStorage.getItem("selectUId"),this.$refs.upload.submit();else{console.log(this.checkedSourceImgsIds);for(var t=0;t<this.checkedSourceImgsIds.length;t++)this.fileList.length<9&&this.fileList.push({index:"",type:"2",url:this.checkedSourceImgsIds[t].path}),this.insertImgDialogVisible=!1}},handleClickInsertImg:function(t){this.getSourceImgList()},getSourceImgList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.TemplateImgList({id:t.templateId,page:t.currentPage});case 2:a=e.sent,200==a.data.code&&(t.sourceImgList=a.data.data.data,t.total=a.data.data.total);case 4:case"end":return e.stop()}}),e)})))()},insertNativeImg:function(){var t=this;this.insertImgActiveName="first",this.fileListNative=[],setTimeout((function(){t.insertImgDialogVisible=!0}),500),this.insertVariable=!1},insertSourceImg:function(){this.insertImgActiveName="second",this.fileListNative=[],this.getSourceImgList(),this.insertImgDialogVisible=!0,this.insertVariable=!1},goback:function(){this.$router.back(-1)},selectVar:function(t,e){for(var a=0;a<this.customTemplateForm.data.length;a++)for(var i=0;i<this.customTemplateForm.data[a].sub.length;i++)this.customTemplateForm.data[a].sub[i].name==e&&(this.customTemplateForm.data[a].sub[i].values=this.customTemplateForm.data[a].sub[i].values+t)},selectVarTogether:function(t,e){var a=document.getElementById(t),i=a.selectionStart,r=a.selectionEnd;this.customTemplateForm.colorNameRegular=this.customTemplateForm.colorNameRegular.substring(0,i)+e+this.customTemplateForm.colorNameRegular.substring(r)},clickInsertVarTogether:function(){this.IsInsertVarTogether=!0},clickInsertVar:function(t){"item_name"==t?this.IsInsertVar=!this.IsInsertVar:"product_description"==t?this.IsInsertVarDes=!this.IsInsertVarDes:"bullet_point1"==t?this.IsInsertVarBul1=!this.IsInsertVarBul1:"bullet_point2"==t?this.IsInsertVarBul2=!this.IsInsertVarBul2:"bullet_point3"==t?this.IsInsertVarBul3=!this.IsInsertVarBul3:"bullet_point4"==t?this.IsInsertVarBul4=!this.IsInsertVarBul4:"bullet_point5"==t?this.IsInsertVarBul5=!this.IsInsertVarBul5:"thesaurus_subject_keywords1"==t?this.IsInsertVarKey1=!this.IsInsertVarKey1:"thesaurus_subject_keywords2"==t?this.IsInsertVarKey2=!this.IsInsertVarKey2:"thesaurus_subject_keywords3"==t?this.IsInsertVarKey3=!this.IsInsertVarKey3:this.IsInsertVarGeneric=!this.IsInsertVarGeneric},InsertTogetherBlur:function(){this.IsInsertVarTogether=!1},InsertBlur:function(){this.IsInsertVar=!1,this.VarDialogVisible=!1,this.IsInsertVarDes=!1,this.IsInsertVarBul=!1,this.IsInsertVarKey=!1},selectProductNameTogether:function(){this.IsInsertVarTogether=!1},selectProductName:function(t){"item_name"==t?this.IsInsertVar=!1:"product_description"==t?this.IsInsertVarDes=!1:"bullet_point1"==t?this.IsInsertVarBul1=!1:"bullet_point2"==t?this.IsInsertVarBul2=!1:"bullet_point3"==t?this.IsInsertVarBul3=!1:"bullet_point4"==t?this.IsInsertVarBul4=!1:"bullet_point5"==t?this.IsInsertVarBul5=!1:"thesaurus_subject_keywords1"==t?this.IsInsertVarKey1=!1:"thesaurus_subject_keywords2"==t?this.IsInsertVarKey2=!1:"thesaurus_subject_keywords3"==t?this.IsInsertVarKey3=!1:this.IsInsertVarGeneric=!1},varBoxLeave:function(){},mouseleave:function(){this.resultPic=!1,this.insertVariable=!1},settingMainImg:function(t){var e=arguments,a=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i,r,n,l,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.length>1&&void 0!==e[1]?e[1]:a.imgOperationData.id,r=e.length>2&&void 0!==e[2]?e[2]:a.imgOperationData.goods_id,n=a,"1"==a.imgOperationData.main_figure){t.next=13;break}return l=a.imgOperationData.index,s="",s=a.ruleForm.goods_imgs[0].path,a.ruleForm.goods_imgs[0].path=a.ruleForm.goods_imgs[l].path,a.ruleForm.goods_imgs[l].path=s,t.next=11,a.api.goodsMainimg({id:i,goods_id:r});case 11:o=t.sent,"200"==o.data.code?n.successMess("设置成功"):n.errorMess(o.data.data);case 13:"1"==n.imgOperationData.main_figure&&n.$message({type:"warning",message:"该图片已经是主图"});case 14:case"end":return t.stop()}}),t)})))()},onDragStart:function(t){this.draging=t.target,this.dragindex1=this._index(this.draging)},onDragOver:function(t){this.target=t.target,"LI"===this.target.nodeName&&this.target!==this.draging&&(this.fileList[this._index(this.draging)]=this.fileList.splice(this._index(this.target),1,this.fileList[this._index(this.draging)])[0])},onDragEnd:function(t){var e=this,a=Array.from(this.$refs.parentNode.childNodes);a.map((function(t,a){var i=e.fileList.find((function(e){return e==t.innerText}));return i}))},_index:function(t){var e=Array.from(this.$refs.parentNode.childNodes);return e.findIndex((function(e){return e.innerText==t.innerText}))},setMainPic:function(t){this.fileList.unshift(this.fileList.splice(t,1)[0])},removeResultPic:function(t){this.fileList.splice(t,1)},confirmInserVar:function(t){if("全部"==t){this.fileList=[];for(var e=1;e<this.resultWordList.length;e++){var a={index:this.resultWordList[e].name,type:"1",url:""};this.fileList.push(a)}}else{var i={index:t,type:"1",url:""};this.fileList.push(i)}},handleChange:function(t,e){this.imageList.push(t),this.fileList=e},handleRemove:function(t){-1!==this.imageBox.indexOf(t.url)&&(this.imageBox.splice(this.imageBox.indexOf(t.url),1),this.customTemplateForm.imgs=this.imageBox.join(",")),this.fileList.splice(this.fileList.indexOf(t),1),this.imageList.splice(this.fileList.indexOf(t),1)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},toAddTemplate:function(){this.$router.push("/addTemplate")},handleEdit:function(t){this.$router.push("/editTemplate")},isBlock:function(t,e){this.customTemplateForm.template_name=e,this.dialogImportTemVisible=!0,this.productVaribles=t},clickBuy:function(){},getCountryList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.CountryList();case 2:a=e.sent,"200"==a.data.code?t.countryList=a.data.data:t.errorMess("获取国家列表失败");case 4:case"end":return e.stop()}}),e)})))()},insertInputTxt:function(t,e,a){var i=document.getElementById(t),r=i.selectionStart,n=i.selectionEnd;if(this.changeProductType)for(l=0;l<this.customTemplateForm.data.length;l++)for(s=0;s<this.customTemplateForm.data[l].length;s++)this.customTemplateForm.data[l][s].name==a&&(this.customTemplateForm.data[l][s].values=this.customTemplateForm.data[l][s].values.substring(0,r)+e+this.customTemplateForm.data[l][s].values.substring(n));else for(var l=0;l<this.customTemplateForm.data.length;l++)for(var s=0;s<this.customTemplateForm.data[l].sub.length;s++)this.customTemplateForm.data[l].sub[s].name==a&&(this.customTemplateForm.data[l].sub[s].values=this.customTemplateForm.data[l].sub[s].values.substring(0,r)+e+this.customTemplateForm.data[l].sub[s].values.substring(n))},handleEditTemplate:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i,r,n,l,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.changeProductType){e.next=32;break}a=0;case 2:if(!(a<t.customTemplateForm.data.length)){e.next=21;break}if("Required"!==t.customTemplateForm.data[a].name)for(i=0;i<t.customTemplateForm.data[a].sub.length;i++)"无"==t.customTemplateForm.data[a].sub[i].values&&(t.customTemplateForm.data[a].sub[i].values="");if("Required"!=t.customTemplateForm.data[a].name){e.next=18;break}i=0;case 6:if(!(i<t.customTemplateForm.data[a].sub.length)){e.next=18;break}if(""!=t.customTemplateForm.data[a].sub[i].values||"main_image_url"===t.customTemplateForm.data[a].sub[i].name||"Required"!=t.customTemplateForm.data[a].sub[i].type){e.next=11;break}return r=t.customTemplateForm.data[a].sub[i].name,t.$message({type:"error",offset:300,message:r+"不能为空"}),e.abrupt("return");case 11:if("无"!=t.customTemplateForm.data[a].sub[i].values||"main_image_url"===t.customTemplateForm.data[a].sub[i].name){e.next=15;break}return r=t.customTemplateForm.data[a].sub[i].name,t.$message({type:"error",offset:300,message:r+"不能为空"}),e.abrupt("return");case 15:i++,e.next=6;break;case 18:a++,e.next=2;break;case 21:for(t.editTemplateLoading=!0,t.customTemplateForm.imgs=[],a=0;a<t.fileList.length;a++)n={},0==a?"1"==t.fileList[0].type?(t.$set(n,"main_image_url",t.fileList[0].index),t.$set(n,"type",t.fileList[0].type)):(t.$set(n,"main_image_url",t.fileList[0].url),t.$set(n,"type",t.fileList[0].type)):"1"==t.fileList[a].type?(t.$set(n,"other_image_url"+a,t.fileList[a].index),t.$set(n,"type",t.fileList[a].type)):(t.$set(n,"other_image_url"+a,t.fileList[a].url),t.$set(n,"type",t.fileList[a].type)),t.customTemplateForm.imgs.push(n);return"产品变体"!==t.customTemplateForm.sales_type&&(t.customTemplateForm.colorNameRegular="",t.customTemplateForm.concatNumber=""),e.next=27,t.api.templateEdit(t.customTemplateForm);case 27:l=e.sent,t.editTemplateLoading=!1,"200"==l.data.code?(t.$message({message:"修改成功",type:"success"}),t.$router.push("/amazonTemplate"),t.saveDisabled=!1):t.errorMess("修改失败"),e.next=61;break;case 32:a=0;case 33:if(!(a<t.customTemplateForm.data.length)){e.next=52;break}if("Required"!==t.customTemplateForm.data[a][0].name)for(i=1;i<t.customTemplateForm.data[a].length;i++)"无"==t.customTemplateForm.data[a][i].values&&(t.customTemplateForm.data[a][i].values="");if("Required"!=t.customTemplateForm.data[a][0].name){e.next=49;break}i=1;case 37:if(!(i<t.customTemplateForm.data[a].length)){e.next=49;break}if(""!=t.customTemplateForm.data[a][i].values||"main_image_url"===t.customTemplateForm.data[a][i].name||"Required"!=t.customTemplateForm.data[a][i].type){e.next=42;break}return r=t.customTemplateForm.data[a][i].name,t.$message({type:"error",offset:300,message:r+"不能为空"}),e.abrupt("return");case 42:if("无"!=t.customTemplateForm.data[a][i].values||"main_image_url"===t.customTemplateForm.data[a][i].name){e.next=46;break}return r=t.customTemplateForm.data[a][i].name,t.$message({type:"error",offset:300,message:r+"不能为空"}),e.abrupt("return");case 46:i++,e.next=37;break;case 49:a++,e.next=33;break;case 52:for(t.editTemplateLoading=!0,t.customTemplateForm.imgs=[],a=0;a<t.fileList.length;a++)n={},0==a?t.$set(n,"main_image_url",t.fileList[0].index):t.$set(n,"other_image_url"+a,t.fileList[a].index),t.customTemplateForm.imgs.push(n);return"产品变体"!==t.customTemplateForm.sales_type&&(t.customTemplateForm.colorNameRegular="",t.customTemplateForm.concatNumber=""),e.next=58,t.api.templateEdit(t.customTemplateForm);case 58:s=e.sent,t.editTemplateLoading=!1,"200"==s.data.code?(t.$message({message:"修改成功",type:"success"}),t.$router.push("/amazonTemplate"),t.saveDisabled=!1):t.errorMess("修改失败");case 61:case"end":return e.stop()}}),e)})))()},imgUpload:function(){var t=this;this.saveDisabled=!0;var e=this;if(0==e.imageList.length)this.handleEditTemplate();else{var a=new FormData;a.append("files",this.files);for(var i=0;i<e.imageList.length;i++){var r=e.imageList[i].raw;a.append("image[]",r)}this.imgRequest("/v1/upLoadimgs",a).then((function(e){200==e.data.code&&(""!==t.customTemplateForm.imgs?t.customTemplateForm.imgs=t.customTemplateForm.imgs+","+e.data.data:t.customTemplateForm.imgs=e.data.data,t.handleEditTemplate())})).catch((function(e){t.saveDisabled=!1}))}},productTypeChange:function(t){this.changeProductType=!0,this.varibleInfo=this.customTemplateForm.all_excel_message[t],this.productVaribles=this.customTemplateForm.all_excel_message[t],this.customTemplateForm.data=this.productVaribles},getTemplateDetailInfo:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,n,l,s,o,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.editTemplateLoading=!0,a.next=3,e.api.templateDetails({id:t});case 3:if(i=a.sent,"200"==i.data.code){for(e.customTemplateForm=i.data.data,e.productTypeList=i.data.data.productTypeList,e.$set(e.customTemplateForm,t,e.templateId),null==e.customTemplateForm.colorNameRegular&&(e.customTemplateForm.colorNameRegular=""),r=0;r<e.customTemplateForm.imgs.length;r++)0==r?"1"==e.customTemplateForm.imgs[0].type?e.fileList.push({index:e.customTemplateForm.imgs[0].main_image_url,type:e.customTemplateForm.imgs[0].type,url:""}):e.fileList.push({index:e.customTemplateForm.imgs[0].main_image_url,type:e.customTemplateForm.imgs[0].type,url:e.customTemplateForm.imgs[0].main_image_url}):"1"==e.customTemplateForm.imgs[r].type?e.fileList.push({index:e.customTemplateForm.imgs[r]["other_image_url"+r],type:e.customTemplateForm.imgs[r].type,url:""}):e.fileList.push({index:e.customTemplateForm.imgs[r]["other_image_url"+r],type:e.customTemplateForm.imgs[r].type,url:e.customTemplateForm.imgs[r]["other_image_url"+r]});for(console.log(e.fileList),e.productVaribles=e.customTemplateForm.data,e.varibleInfo=e.customTemplateForm.excel_message,r=0;r<e.varibleInfo.length;r++)for(n=0;n<e.varibleInfo[r].length;n++){if("Required"==e.varibleInfo[r][0].name)for(l=0;l<e.varibleInfo[r].length;l++)for(s=0;s<e.productVaribles.length;s++)if("Required"==e.productVaribles[s].name)for(o=0;o<e.productVaribles[s].sub.length;o++)e.productVaribles[s].sub[o].name==e.varibleInfo[r][n].name&&e.$set(e.productVaribles[s].sub[o],"type",e.varibleInfo[r][n].type);if(e.varibleInfo[r][n].params)for(c=0;c<e.productVaribles.length;c++)for(u=0;u<e.productVaribles[c].sub.length;u++)e.productVaribles[c].sub[u].name==e.varibleInfo[r][n].name&&(e.productVaribles[c].sub[u].params=e.varibleInfo[r][n].params)}}e.editTemplateLoading=!1;case 6:case"end":return a.stop()}}),a)})))()},getStoreList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.stoLists();case 2:a=e.sent,200==a.data.code&&(t.storeList=a.data.data,t.customTemplateForm.store_name=t.storeList[0].id);case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.getStoreList(),this.changeProductType=!1,this.getCountryList(),this.templateId=this.$route.query.id,this.getTemplateDetailInfo(this.templateId)},computed:{length:function(){return this.fileList.length}}},c=o,u=(a("5175"),a("2877")),m=Object(u["a"])(c,n,l,!1,null,"175ba80c",null),p=m.exports,d={components:{editTemplate:p}},v=d,g=Object(u["a"])(v,i,r,!1,null,null,null);e["default"]=g.exports},"3ca3":function(t,e,a){"use strict";var i=a("6547").charAt,r=a("69f3"),n=a("7dd0"),l="String Iterator",s=r.set,o=r.getterFor(l);n(String,"String",(function(t){s(this,{type:l,string:String(t),index:0})}),(function(){var t,e=o(this),a=e.string,r=e.index;return r>=a.length?{value:void 0,done:!0}:(t=i(a,r),e.index+=t.length,{value:t,done:!1})}))},"4c53":function(t,e,a){"use strict";var i=a("23e7"),r=a("857a"),n=a("af03");i({target:"String",proto:!0,forced:n("sub")},{sub:function(){return r(this,"sub","","")}})},"4df4":function(t,e,a){"use strict";var i=a("0366"),r=a("7b0b"),n=a("9bdd"),l=a("e95a"),s=a("50c4"),o=a("8418"),c=a("35a1");t.exports=function(t){var e,a,u,m,p,d,v=r(t),g="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,f=void 0!==b,x=c(v),_=0;if(f&&(b=i(b,h>2?arguments[2]:void 0,2)),void 0==x||g==Array&&l(x))for(e=s(v.length),a=new g(e);e>_;_++)d=f?b(v[_],_):v[_],o(a,_,d);else for(m=x.call(v),p=m.next,a=new g;!(u=p.call(m)).done;_++)d=f?n(m,b,[u.value,_],!0):u.value,o(a,_,d);return a.length=_,a}},5175:function(t,e,a){"use strict";var i=a("67c8"),r=a.n(i);r.a},6547:function(t,e,a){var i=a("a691"),r=a("1d80"),n=function(t){return function(e,a){var n,l,s=String(r(e)),o=i(a),c=s.length;return o<0||o>=c?t?"":void 0:(n=s.charCodeAt(o),n<55296||n>56319||o+1===c||(l=s.charCodeAt(o+1))<56320||l>57343?t?s.charAt(o):n:t?s.slice(o,o+2):l-56320+(n-55296<<10)+65536)}};t.exports={codeAt:n(!1),charAt:n(!0)}},"67c8":function(t,e,a){},"7db0":function(t,e,a){"use strict";var i=a("23e7"),r=a("b727").find,n=a("44d2"),l=a("ae40"),s="find",o=!0,c=l(s);s in[]&&Array(1)[s]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!c},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(s)},"857a":function(t,e,a){var i=a("1d80"),r=/"/g;t.exports=function(t,e,a,n){var l=String(i(t)),s="<"+e;return""!==a&&(s+=" "+a+'="'+String(n).replace(r,"&quot;")+'"'),s+">"+l+"</"+e+">"}},a15b:function(t,e,a){"use strict";var i=a("23e7"),r=a("44ad"),n=a("fc6a"),l=a("a640"),s=[].join,o=r!=Object,c=l("join",",");i({target:"Array",proto:!0,forced:o||!c},{join:function(t){return s.call(n(this),void 0===t?",":t)}})},a630:function(t,e,a){var i=a("23e7"),r=a("4df4"),n=a("1c7e"),l=!n((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:l},{from:r})},af03:function(t,e,a){var i=a("d039");t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b0c0:function(t,e,a){var i=a("83ab"),r=a("9bf2").f,n=Function.prototype,l=n.toString,s=/^\s*function ([^ (]*)/,o="name";i&&!(o in n)&&r(n,o,{configurable:!0,get:function(){try{return l.call(this).match(s)[1]}catch(t){return""}}})},c740:function(t,e,a){"use strict";var i=a("23e7"),r=a("b727").findIndex,n=a("44d2"),l=a("ae40"),s="findIndex",o=!0,c=l(s);s in[]&&Array(1)[s]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!c},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(s)},c975:function(t,e,a){"use strict";var i=a("23e7"),r=a("4d64").indexOf,n=a("a640"),l=a("ae40"),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0,c=n("indexOf"),u=l("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:o||!c||!u},{indexOf:function(t){return o?s.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},d81d:function(t,e,a){"use strict";var i=a("23e7"),r=a("b727").map,n=a("1dde"),l=a("ae40"),s=n("map"),o=l("map");i({target:"Array",proto:!0,forced:!s||!o},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},ddb0:function(t,e,a){var i=a("da84"),r=a("fdbc"),n=a("e260"),l=a("9112"),s=a("b622"),o=s("iterator"),c=s("toStringTag"),u=n.values;for(var m in r){var p=i[m],d=p&&p.prototype;if(d){if(d[o]!==u)try{l(d,o,u)}catch(g){d[o]=u}if(d[c]||l(d,c,m),r[m])for(var v in n)if(d[v]!==n[v])try{l(d,v,n[v])}catch(g){d[v]=n[v]}}}}}]);
//# sourceMappingURL=chunk-214a7c32.89889401.js.map