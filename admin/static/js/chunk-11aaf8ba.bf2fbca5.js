(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11aaf8ba"],{"00ae":function(t,e,a){"use strict";var i=a("28d0"),s=a.n(i);s.a},"0a8b":function(t,e,a){"use strict";var i=a("46f5"),s=a.n(i);s.a},1276:function(t,e,a){"use strict";var i=a("d784"),s=a("44e7"),o=a("825a"),n=a("1d80"),r=a("4840"),l=a("8aa5"),c=a("50c4"),d=a("14c3"),u=a("9263"),p=a("d039"),m=[].push,h=Math.min,g=4294967295,f=!p((function(){return!RegExp(g,"y")}));i("split",2,(function(t,e,a){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var i=String(n(this)),o=void 0===a?g:a>>>0;if(0===o)return[];if(void 0===t)return[i];if(!s(t))return e.call(i,t,o);var r,l,c,d=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,f=new RegExp(t.source,p+"g");while(r=u.call(f,i)){if(l=f.lastIndex,l>h&&(d.push(i.slice(h,r.index)),r.length>1&&r.index<i.length&&m.apply(d,r.slice(1)),c=r[0].length,h=l,d.length>=o))break;f.lastIndex===r.index&&f.lastIndex++}return h===i.length?!c&&f.test("")||d.push(""):d.push(i.slice(h)),d.length>o?d.slice(0,o):d}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var s=n(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,s,a):i.call(String(s),e,a)},function(t,s){var n=a(i,t,this,s,i!==e);if(n.done)return n.value;var u=o(t),p=String(this),m=r(u,RegExp),_=u.unicode,b=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(f?"y":"g"),v=new m(f?u:"^(?:"+u.source+")",b),w=void 0===s?g:s>>>0;if(0===w)return[];if(0===p.length)return null===d(v,p)?[p]:[];var C=0,x=0,y=[];while(x<p.length){v.lastIndex=f?x:0;var z,S=d(v,f?p:p.slice(x));if(null===S||(z=h(c(v.lastIndex+(f?0:x)),p.length))===C)x=l(p,x,_);else{if(y.push(p.slice(C,x)),y.length===w)return y;for(var D=1;D<=S.length-1;D++)if(y.push(S[D]),y.length===w)return y;x=C=z}}return y.push(p.slice(C)),y}]}),!f)},"28d0":function(t,e,a){},"44e7":function(t,e,a){var i=a("861d"),s=a("c6b6"),o=a("b622"),n=o("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==s(t))}},"46f5":function(t,e,a){},"589d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-upload",{staticClass:"upload-demo",attrs:{action:t.uploadData.action,"show-file-list":!1,accept:".txt",name:"excel","on-progress":t.handleProgress,"auto-upload":t.uploadData.autoUpload,"on-change":t.handleChange,"before-upload":t.beforeUpload,"on-success":t.handleSuccess}},[a("el-button",{staticClass:"btnStyle",staticStyle:{"margin-right":"0px!important","text-align":"left!important"},attrs:{size:"mini"}},[t._v(" "+t._s(t.uploadData.buttonName)+" ")])],1)],1)},s=[],o=(a("baa5"),a("b0c0"),{props:["uploadData"],data:function(){return{loading:!1,tableData:[]}},methods:{handleProgress:function(){this.loading=!0},beforeUpload:function(t){var e=t.name,a=e.lastIndexOf("."),i=e.substring(a,e.length);".txt"!==i.toLowerCase()&&this.$message.warning("只能选取后缀为.txt的文件进行上传")},handleChange:function(t){},handlerError:function(t){},handleSuccess:function(t){"200"==t.code&&(this.loading=!1,this.$store.commit("AMAZON_TXT_DATA",t.data)),"201"==t.code&&(this.$message.error("格式错误"),this.loading=!1),"202"==t.code&&(this.$message.error("该SKU不属于当前用户"),this.loading=!1)}}}),n=o,r=(a("766f"),a("2877")),l=Object(r["a"])(n,i,s,!1,null,"e44d1304",null);e["a"]=l.exports},"5ee7":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commodityManagement"},[a("orderManagementMain")],1)},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mainCon orderImport"},[a("div",{staticClass:"mainTop"},[a("uploadExcel",{attrs:{uploadData:t.uploadData},on:{isBlock:t.isBlock}}),a("uploadTxt",{attrs:{uploadData:t.uploadDataTxt}}),a("div",{staticClass:"mainTopLeft"},[a("el-button",{staticClass:"marginRight3",attrs:{type:"danger",size:"mini"},on:{click:t.delOrder}},[a("i",{staticClass:"el-icon-close"}),t._v("删除")]),a("el-button",{staticClass:"marginRight3",attrs:{type:"success",size:"mini"},on:{click:t.judgeFun}},[a("i",{staticClass:"iconfont icon_tijiao"}),t._v("批量提交")]),a("el-button",{staticClass:"marginRight3 marginRight23",attrs:{type:"success",icon:"el-icon-refresh",size:"mini"}},[t._v("刷新")]),a("span",{staticClass:"colorf24544"},[t._v("提示：只能上传亚马逊的订单文件！")])],1),a("el-pagination",{staticStyle:{float:"right","margin-right":"60px!important"},attrs:{"current-page":t.currentPage,"page-sizes":[50,100,200],"page-size":t.pageSize,"pager-count":t.pagerCount,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}),a("div",{staticClass:"common"},[t._v("共"+t._s(t.productNum)+"笔")])],1),a("div",{staticClass:"mainBottom orderManagementTable"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"87vh","tooltip-effect":"dark",border:"",stripe:""},on:{"selection-change":t.handleSelectionChange,"row-dblclick":t.handleClickCellClick}},[a("el-table-column",{attrs:{type:"index",fixed:"",align:"center","header-align":"center","min-width":"50"}}),a("el-table-column",{attrs:{"header-align":"center",fixed:"",align:"center",type:"selection",width:"50"}}),a("el-table-column",{attrs:{"header-align":"center",fixed:"","show-overflow-tooltip":"",prop:"created_at",label:"产品详情","min-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"imgConStyle"},[a("el-tooltip",{attrs:{placement:"right-start",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.row.goods_info.goods_imgs,expression:"scope.row.goods_info.goods_imgs"}],staticClass:"bigImgCon",attrs:{alt:"",srcset:""}})]),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.row.goods_info.goods_imgs,expression:"scope.row.goods_info.goods_imgs"}],staticClass:"bigImgCon",attrs:{alt:"",srcset:""}})])],1),a("div",{staticClass:"disInlineBlock"},[a("p",[t._v(t._s(e.row.goods_info.goods_name))]),a("p",[t._v("价格："+t._s(e.row.goods_info.goods_price))]),a("p",[t._v("规格："+t._s(e.row.goods_info.size))]),a("p",[t._v("数量："+t._s(e.row.quantity_purchased))]),a("p",[t._v("单价："+t._s(e.row.goods_info.goods_price))])])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"","header-align":"center",fixed:"",align:"center",prop:"order_id",label:"订单号",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{directives:[{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"},{name:"clipboard",rawName:"v-clipboard:copy",value:e.row.order_id,expression:"scope.row.order_id",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.copyFun,expression:"copyFun",arg:"success"}],staticClass:"tag-read"},[t._v(t._s(e.row.order_id))])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"","header-align":"center",align:"center",prop:"purchase_date",label:"购买日期",width:"150"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"","header-align":"center",align:"center",prop:"quantity_purchased",label:"购买数量",width:"90"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"","header-align":"center",align:"center",prop:"ship_country",label:"国家",width:"80"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"","header-align":"center",align:"center",prop:"recipient_name",label:"收件人","min-width":"150"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"","header-align":"center",align:"center",prop:"payments_date",label:"支付时间","min-width":"100"}}),a("el-table-column",{attrs:{"header-align":"center","show-overflow-tooltip":"",align:"center",label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return t.clickEdit(e.row)}}},[t._v("编辑")])]}}])})],1)],1),a("mainBottom",{attrs:{orderIds:this.handleMult()},on:{changeMainHeight:t.changeMainHeight}}),a("el-dialog",{staticClass:"orderImportDialog",attrs:{title:"订单导入预览",visible:t.orderImportDialogTableVisible,width:"55%"},on:{"update:visible":function(e){t.orderImportDialogTableVisible=e}}},[a("el-row",{staticClass:"titleRow"},[a("el-col",{attrs:{span:6}},[t._v("上传订单："+t._s(t.orderList.order_num))]),a("el-col",{attrs:{span:6}},[t._v("产品解析成功："+t._s(t.orderList.success_num))]),a("el-col",{attrs:{span:6}},[t._v("产品解析失败："+t._s(t.orderList.failure_num))]),a("el-col",{attrs:{span:6}},[t._v("不可导入订单："+t._s(t.orderList.repeat_num))])],1),a("div",{staticClass:"orderListDiv"},[a("el-row",{staticClass:"topRow botrow"},[a("el-col",{staticClass:"textCenter",attrs:{span:9}},[t._v("产品信息")]),a("el-col",{staticClass:"textCenter",attrs:{span:3}},[t._v("订单金额")]),a("el-col",{staticClass:"textCenter",attrs:{span:4}},[t._v("收件人【国家】")]),a("el-col",{staticClass:"textCenter",attrs:{span:8}},[t._v("收货信息")])],1),t._l(t.orderList.info,(function(e,i){return a("div",{key:i,staticClass:"orderList"},[a("el-row",{staticClass:"botrow",staticStyle:{"background-color":"#f5f7fa"}},[a("span",{staticClass:"displayInlineBlock marginRight23 Orderspan"},[t._v("订单号："+t._s(e.order_id))]),a("span",[t._v("下单时间： "+t._s(e.payments_date))])]),t._l(e.goods_info,(function(i,s){return a("el-row",{key:s,staticClass:"botrow"},[a("el-col",{attrs:{span:9}},[a("el-col",{attrs:{span:6}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.img,expression:"item1.img"}],staticClass:"orderImg"})]),a("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:18}},[a("el-row",{staticClass:"marginBot5"},[t._v(t._s(i.goods_name))]),a("el-row",{staticClass:"marginBot5"},[t._v("SKU："+t._s(i.sku))]),a("el-row",{staticClass:"marginBot5"},[t._v("颜色："+t._s(i.color)+" 尺码："+t._s(i.sizes)+" 数量："+t._s(i.quantity_purchased))])],1)],1),a("el-col",{staticClass:"textCenter",attrs:{span:3}},[t._v(t._s(e.item_price))]),a("el-col",{attrs:{span:4}},[a("el-row",{staticClass:"textCenter marginBot5"},[t._v(t._s(e.recipient_name))]),a("el-row",{staticClass:"textCenter marginBot5",staticStyle:{"text-align":"center!important"}},[t._v("【"+t._s(e.ship_country)+"】")])],1),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"marginBot5"},[t._v("地址："+t._s(e.ship_address_1)+t._s(e.ship_postal_code))]),a("div",[t._v("电话："+t._s(e.buyer_phone_number))])])],1)}))],2)}))],2),a("div",{staticClass:"textRight marginTop20 marginBot10"},[a("el-button",{staticClass:"marginRight3",attrs:{size:"small"},on:{click:t.cancelImport}},[t._v("取消")]),a("el-button",{staticClass:"marginRight3",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.confirmImport()}}},[t._v("确定导入")])],1)],1)],1)},n=[],r=(a("4160"),a("159b"),a("96cf"),a("1da1")),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mainBottom"},[a("el-dialog",{attrs:{title:"订单详情",visible:t.bottomShowStatus,width:"90%"},on:{"update:visible":function(e){t.bottomShowStatus=e}}},[a("div",{staticClass:"mainBottomLeft"},[a("el-form",{ref:"ruleForm",attrs:{model:t.sizeForm,rules:t.rules,"label-width":"80px",size:"small","inline-message":!0}},[a("el-form-item",{staticClass:"width58 disInlineBlock marginBottm5",attrs:{label:"订单号"}},[a("el-input",{attrs:{disabled:""},model:{value:t.sizeForm.order_id,callback:function(e){t.$set(t.sizeForm,"order_id",e)},expression:"sizeForm.order_id"}})],1),a("el-form-item",{staticClass:"width40 disInlineBlock marginBottm5",attrs:{label:"物流"}},[a("el-select",{on:{change:t.logisticsChange},model:{value:t.sizeForm.shipping_code,callback:function(e){t.$set(t.sizeForm,"shipping_code",e)},expression:"sizeForm.shipping_code"}},t._l(t.optionList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.courier_name,value:t.id}})})),1)],1),a("el-form-item",{staticClass:"width58 disInlineBlock marginBottm5",attrs:{label:"国|州/省"}},[a("el-select",{staticClass:"width40",attrs:{placeholder:"送达国家",disabled:""},model:{value:t.sizeForm.ship_country,callback:function(e){t.$set(t.sizeForm,"ship_country",e)},expression:"sizeForm.ship_country"}}),a("el-select",{staticClass:"width58",attrs:{placeholder:"送达城市",disabled:""},model:{value:t.sizeForm.ship_state,callback:function(e){t.$set(t.sizeForm,"ship_state",e)},expression:"sizeForm.ship_state"}})],1),a("el-form-item",{staticClass:"width40 disInlineBlock marginBottm5",attrs:{label:"城市",prop:"ship_city"}},[a("el-input",{model:{value:t.sizeForm.ship_city,callback:function(e){t.$set(t.sizeForm,"ship_city",e)},expression:"sizeForm.ship_city"}})],1),a("el-form-item",{staticClass:"width58 disInlineBlock marginBottm5",attrs:{label:"详细地址",prop:"ship_address_1"}},[a("el-input",{model:{value:t.sizeForm.ship_address_1,callback:function(e){t.$set(t.sizeForm,"ship_address_1",e)},expression:"sizeForm.ship_address_1"}})],1),a("el-form-item",{staticClass:"width40 disInlineBlock marginBottm5",attrs:{label:"邮编"}},[a("el-input",{model:{value:t.sizeForm.ship_postal_code,callback:function(e){t.$set(t.sizeForm,"ship_postal_code",e)},expression:"sizeForm.ship_postal_code"}})],1),a("el-form-item",{staticClass:"width58 disInlineBlock marginBottm5",attrs:{label:"收件人",prop:"recipient_name"}},[a("el-input",{model:{value:t.sizeForm.recipient_name,callback:function(e){t.$set(t.sizeForm,"recipient_name",e)},expression:"sizeForm.recipient_name"}})],1),a("el-form-item",{staticClass:"width40 disInlineBlock marginBottm5",attrs:{label:"电话"}},[a("el-input",{model:{value:t.sizeForm.buyer_phone_number,callback:function(e){t.$set(t.sizeForm,"buyer_phone_number",e)},expression:"sizeForm.buyer_phone_number"}})],1),a("el-form-item",{staticClass:"marginBottm5",attrs:{label:"订单备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.sizeForm.delivery_Instructions,callback:function(e){t.$set(t.sizeForm,"delivery_Instructions",e)},expression:"sizeForm.delivery_Instructions"}})],1)],1)],1),a("div",{staticClass:"mainBottomRight"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"32vh"}},[a("el-table-column",{attrs:{fixed:"",type:"index","min-width":"50"}}),a("el-table-column",{attrs:{prop:"date",label:"图片","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.row.goods_imgs[0].path,expression:"scope.row.goods_imgs[0].path"}],attrs:{alt:"",srcset:""}})]}}])}),a("el-table-column",{attrs:{prop:"goods_name",label:"商品标题","min-width":"150"}}),a("el-table-column",{attrs:{prop:"goods_weight",label:"重量（KG）","min-width":"100"}}),a("el-table-column",{attrs:{prop:"msrp",label:"单价","min-width":"100"}}),a("el-table-column",{attrs:{prop:"quantity_purchased",label:"数量","min-width":"60"}})],1)],1),a("div",{staticClass:"bottomCon"},[a("div",{staticClass:"costCon",staticStyle:{float:"left"}},[t._v(" (商品合计： "),a("span",{staticClass:"colorRed"},[t._v(t._s(t.sizeForm.goods_price_total.toFixed(2)))]),t._v(" + 快递费用： "),a("span",{staticClass:"colorRed"},[t._v(t._s(t.sizeForm.postage_total.toFixed(2)))]),t._v(" = 订单总额： "),a("span",{staticClass:"colorRed"},[t._v(t._s((t.sizeForm.postage_total+t.sizeForm.goods_price_total).toFixed(2)))]),t._v(") ")]),a("div",{staticClass:"costCon",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.submitForm("ruleForm")}}},[a("i",{staticClass:"iconfont icon_baocun"}),t._v("保存修改 ")]),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){return t.submitForm("ruleForm")}}},[a("i",{staticClass:"el-icon-check"}),t._v(" "+t._s(t.submitInfo)+" ")])],1)])])],1)},c=[],d=(a("99af"),{data:function(){return{innerVisible:!1,bottomShowStatus:!1,productionChart:[],submitInfo:"提交订单",sizeForm:{order_id:"",postage_info:"",ship_country:"",ship_state:"",ship_address_1:"",delivery_Instructions:"",ship_city:"",ship_postal_code:"",shipping_code:"",postage_total:0,goods_price_total:0},optionList:[],postage_total:0,goods_price_total:0,tableData:[],rules:{ship_address_1:[{required:!0,message:"请填写详细地址",trigger:"blur"}],recipient_name:[{required:!0,message:"请填写收件人",trigger:"blur"}],ship_city:[{required:!0,message:"请填写城市",trigger:"blur"}]}}},methods:{closeButton:function(){this.$emit("changeMainHeight"),this.$store.commit("CHANGE_ORDERIMPORT_CELL_DATA","")},logisticsChange:function(t){var e=this;this.postLogisticsData("v1/orImportPostage?courier_id=".concat(t,"&country_id=").concat(this.sizeForm.ship_country),{data:this.tableData}).then((function(t){"200"==t.data.code&&(e.$set(e.sizeForm,"postage_total",t.data.data.postage_total),e.$set(e.sizeForm,"goods_price_total",t.data.data.goods_price_total))}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.$confirm("是否确认生产图片的清晰度和色差都没有问题？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$set(e.sizeForm,"goods_info1",[]),e.sizeForm.goods_info1.push(e.sizeForm.goods_info),e.submitOrder(e.sizeForm)})).catch((function(){e.$message({type:"info",message:"取消提交"})}))}))},lookProductionChart:function(){this.innerVisible=!0},closeInner:function(){this.innerVisible=!1},submitOrder:function(t){var e=this;arguments.length>1&&void 0!==arguments[1]||sessionStorage.getItem("selectUId");this.postRequest("/v1/orderSubmit",t).then((function(t){"200"==t.data.code&&e.$message({type:"success",message:"已添加到订单管理"}),"201"==t.data.code&&e.$message.error("订单提交失败"),"202"==t.data.code&&e.$message.error("订单号已存在")}))},getMainBottomInfo:function(t){var e=this;this.postLogisticsData("/v1/OrderGoodsListsAbout",t).then((function(a){"200"==a.data.code&&(e.tableData=a.data.data.goodsLists,e.optionList=a.data.data.postage_info,e.productionChart=a.data.data.goodsLists[0].designimage,e.sizeForm=t,e.$set(e.sizeForm,"postage_total",a.data.data.postage_total),e.$set(e.sizeForm,"goods_price_total",a.data.data.goods_price_total),e.$set(e.sizeForm,"shipping_code",a.data.data.postage_info[0].id))}))}},computed:{cellData:function(){return this.$store.state.orderImportCellData}},watch:{cellData:function(t,e){t?(this.bottomShowStatus=!0,this.getMainBottomInfo(t)):this.bottomShowStatus=!1}}}),u=d,p=(a("8a68"),a("2877")),m=Object(p["a"])(u,l,c,!1,null,"67a8f9c6",null),h=m.exports,g=a("ff0a"),f=a("589d"),_={data:function(){return{orderImportDialogTableVisible:!1,tableHeight:"85.5vh",total:0,productNum:0,currentPage:1,pagerCount:5,pageSize:50,uploadData:{action:"http://api.321.design/v1/excelList?u_id=".concat(sessionStorage.getItem("selectUId")),buttonName:"上传Amazon订单Excel",autoUpload:!0,componentName:"excel",name:"excel"},uploadDataTxt:{action:"http://api.321.design/v1/orderTxtImport?u_id=".concat(sessionStorage.getItem("selectUId")),buttonName:"上传Amazon订单Txt",autoUpload:!0},rules:{name:[{required:!0,message:"标题不能为空"}]},tableData:[],multipleSelection:[],activeName:"first",orderList:{}}},methods:{cancelImport:function(){this.orderImportDialogTableVisible=!1},confirmImport:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.stringify(t.orderList.info),e.next=3,t.api.OrderImport({info:a});case 3:i=e.sent,200==i.data.code&&(t.orderImportDialogTableVisible=!1,t.$message({message:"导入成功",type:"success"})),t.initData();case 6:case"end":return e.stop()}}),e)})))()},isBlock:function(t){this.orderList=t,this.orderImportDialogTableVisible=!0},clickEdit:function(t){this.tableHeight="86vh",this.$store.commit("CHANGE_ORDERIMPORT_CELL_DATA",t)},onError:function(t){this.$message({message:"复制失败！",type:"error"})},copyFun:function(t){this.$message({message:"复制成功！",type:"success"})},changeMainHeight:function(){this.tableHeight="85.5vh"},handleSizeChange:function(t){this.pageSize=t,this.initData()},handleCurrentChange:function(t){this.currentPage=t,this.initData()},delOrder:function(){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.delFun()})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},judgeFun:function(){var t=this;this.$confirm("是否确认生产图片的清晰度和色差都没有问题？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.batchOrder({id:t.handleMult()});case 2:e.sent,t.successMess("提交成功"),t.bottomShowStatus=!1;case 5:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"取消提交"})}))},delFun:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.AmazonOrderDelete({id:"".concat(t.handleMult())});case 2:a=e.sent,"200"==a.data.code?(t.$message({showClose:!0,message:"删除成功",type:"success"}),t.initData()):(t.$message({showClose:!0,message:a.data.msg,type:"error"}),t.initData());case 4:case"end":return e.stop()}}),e)})))()},handleMult:function(){var t=[];if(this.multipleSelection.length>0)for(var e=0;e<this.multipleSelection.length;e++){var a=this.multipleSelection[e];t.push(a.id)}return t},toggleSelection:function(t){var e=this;t?t.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},handleClickCellClick:function(t){this.tableHeight="86vh",this.$store.commit("CHANGE_ORDERIMPORT_CELL_DATA",t)},initData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.AmazonOrderLists({limit:t.pageSize,page:t.currentPage});case 2:a=e.sent,"200"==a.data.code?(t.tableData=a.data.data.data,t.productNum=a.data.data.total,t.total=a.data.data.total):t.errorMess("获取订单列表失败");case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.initData()},computed:{AmazonExcelData:function(){return this.$store.state.AmazonExcelData},AmazonTxtData:function(){return this.$store.state.AmazonTxtData}},watch:{AmazonExcelData:function(t,e){this.initData()},AmazonTxtData:function(t,e){this.initData()}},components:{uploadExcel:g["a"],uploadTxt:f["a"],mainBottom:h}},b=_,v=(a("69d5"),Object(p["a"])(b,o,n,!1,null,"09f315bc",null)),w=v.exports,C={data:function(){return{}},components:{orderManagementMain:w}},x=C,y=(a("00ae"),Object(p["a"])(x,i,s,!1,null,"3536ceea",null));e["default"]=y.exports},"69d5":function(t,e,a){"use strict";var i=a("e657"),s=a.n(i);s.a},"766f":function(t,e,a){"use strict";var i=a("da1e"),s=a.n(i);s.a},"8a68":function(t,e,a){"use strict";var i=a("b01c"),s=a.n(i);s.a},a15b:function(t,e,a){"use strict";var i=a("23e7"),s=a("44ad"),o=a("fc6a"),n=a("a640"),r=[].join,l=s!=Object,c=n("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(t){return r.call(o(this),void 0===t?",":t)}})},b01c:function(t,e,a){},b0c0:function(t,e,a){var i=a("83ab"),s=a("9bf2").f,o=Function.prototype,n=o.toString,r=/^\s*function ([^ (]*)/,l="name";i&&!(l in o)&&s(o,l,{configurable:!0,get:function(){try{return n.call(this).match(r)[1]}catch(t){return""}}})},baa5:function(t,e,a){var i=a("23e7"),s=a("e58c");i({target:"Array",proto:!0,forced:s!==[].lastIndexOf},{lastIndexOf:s})},c975:function(t,e,a){"use strict";var i=a("23e7"),s=a("4d64").indexOf,o=a("a640"),n=a("ae40"),r=[].indexOf,l=!!r&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),d=n("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!c||!d},{indexOf:function(t){return l?r.apply(this,arguments)||0:s(this,t,arguments.length>1?arguments[1]:void 0)}})},da1e:function(t,e,a){},e58c:function(t,e,a){"use strict";var i=a("fc6a"),s=a("a691"),o=a("50c4"),n=a("a640"),r=a("ae40"),l=Math.min,c=[].lastIndexOf,d=!!c&&1/[1].lastIndexOf(1,-0)<0,u=n("lastIndexOf"),p=r("indexOf",{ACCESSORS:!0,1:0}),m=d||!u||!p;t.exports=m?function(t){if(d)return c.apply(this,arguments)||0;var e=i(this),a=o(e.length),n=a-1;for(arguments.length>1&&(n=l(n,s(arguments[1]))),n<0&&(n=a+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}:c},e657:function(t,e,a){},ff0a:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-upload",{staticClass:"upload-demo",attrs:{action:t.uploadData.action,"show-file-list":!1,name:"excel","on-progress":t.handleProgress,"auto-upload":t.uploadData.autoUpload,"on-change":t.handleChange,"before-upload":t.beforeUpload,"on-success":t.handleSuccess}},[a("el-button",{staticClass:"btnStyle",staticStyle:{"margin-right":"0px!important","text-align":"left!important"},attrs:{size:"mini"}},[t._v(" "+t._s(t.uploadData.buttonName))])],1)],1)},s=[],o=(a("c975"),a("a15b"),a("b0c0"),a("ac1f"),a("1276"),{props:["uploadData"],data:function(){return{loading:!1,tableData:[]}},methods:{handleProgress:function(){this.loading=!0},beforeUpload:function(t){var e=t.name.split(".");if(-1==this.uploadData.ext.indexOf(e[1]))return this.$message({type:"warning",message:"只能选取后缀为"+this.uploadData.ext.join(",")+"的文件进行上传"}),!1},handleChange:function(t){"addExcel"==this.uploadData.componentsName?this.$store.commit("EDIT_EXCEL_DATA",t):this.beforeUpload(t)},handlerError:function(t){},handleSuccess:function(t){"200"==t.code&&(this.tableData=t.data,this.loading=!1,this.$emit("isBlock",this.tableData)),"201"==t.code&&this.$message.error("格式错误"),"202"==t.code&&this.$message.error("该SKU不属于当前用户")}}}),n=o,r=(a("0a8b"),a("2877")),l=Object(r["a"])(n,i,s,!1,null,"6db2d679",null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-11aaf8ba.bf2fbca5.js.map