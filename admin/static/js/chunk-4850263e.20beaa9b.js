(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4850263e"],{1276:function(t,e,a){"use strict";var n=a("d784"),i=a("44e7"),r=a("825a"),s=a("1d80"),l=a("4840"),o=a("8aa5"),c=a("50c4"),u=a("14c3"),m=a("9263"),p=a("d039"),d=[].push,h=Math.min,g=4294967295,f=!p((function(){return!RegExp(g,"y")}));n("split",2,(function(t,e,a){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var n=String(s(this)),r=void 0===a?g:a>>>0;if(0===r)return[];if(void 0===t)return[n];if(!i(t))return e.call(n,t,r);var l,o,c,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,f=new RegExp(t.source,p+"g");while(l=m.call(f,n)){if(o=f.lastIndex,o>h&&(u.push(n.slice(h,l.index)),l.length>1&&l.index<n.length&&d.apply(u,l.slice(1)),c=l[0].length,h=o,u.length>=r))break;f.lastIndex===l.index&&f.lastIndex++}return h===n.length?!c&&f.test("")||u.push(""):u.push(n.slice(h)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var i=s(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,i,a):n.call(String(i),e,a)},function(t,i){var s=a(n,t,this,i,n!==e);if(s.done)return s.value;var m=r(t),p=String(this),d=l(m,RegExp),v=m.unicode,b=(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.unicode?"u":"")+(f?"y":"g"),x=new d(f?m:"^(?:"+m.source+")",b),_=void 0===i?g:i>>>0;if(0===_)return[];if(0===p.length)return null===u(x,p)?[p]:[];var y=0,I=0,T=[];while(I<p.length){x.lastIndex=f?I:0;var k,w=u(x,f?p:p.slice(I));if(null===w||(k=h(c(x.lastIndex+(f?0:I)),p.length))===y)I=o(p,I,v);else{if(T.push(p.slice(y,I)),T.length===_)return T;for(var S=1;S<=w.length-1;S++)if(T.push(w[S]),T.length===_)return T;I=y=k}}return T.push(p.slice(y)),T}]}),!f)},"14c3":function(t,e,a){var n=a("c6b6"),i=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var r=a.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},3166:function(t,e,a){},"38b3":function(t,e,a){},"3ca3":function(t,e,a){"use strict";var n=a("6547").charAt,i=a("69f3"),r=a("7dd0"),s="String Iterator",l=i.set,o=i.getterFor(s);r(String,"String",(function(t){l(this,{type:s,string:String(t),index:0})}),(function(){var t,e=o(this),a=e.string,i=e.index;return i>=a.length?{value:void 0,done:!0}:(t=n(a,i),e.index+=t.length,{value:t,done:!1})}))},"3de1":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"uploadExcelCom uploadExcelCom1"},[a("el-upload",{staticClass:"upload-demo",attrs:{action:t.uploadData.action,"show-file-list":!1,name:"excel",drag:"","on-progress":t.handleProgress,"auto-upload":t.uploadData.autoUpload,"on-change":t.handleChange,"before-upload":t.beforeUpload,"on-success":t.handleSuccess}},[a("el-button",{staticClass:"btnStyle",staticStyle:{"margin-right":"0px!important","text-align":"left!important"},attrs:{size:"mini"}},[t._v(" "+t._s(t.uploadData.buttonName))])],1)],1)},i=[],r=(a("b0c0"),a("ac1f"),a("1276"),{props:["uploadData"],data:function(){return{loading:!1,tableData:[]}},methods:{handleProgress:function(){this.loading=!0},beforeUpload:function(t){var e=t.name.split(".");if("xls"!=e[1]&&"xlsx"!=e[1])return this.$message({type:"warning",message:"只能选取后缀为.xls或.xlsx的文件进行上传"}),!1},handleChange:function(t){"addExcel"==this.uploadData.componentsName?this.$store.commit("EDIT_EXCEL_DATA",t):this.beforeUpload(t)},handlerError:function(t){},handleSuccess:function(t){"200"==t.code&&(this.tableData=t.data.data,this.template_name=t.data.template_name,this.path=t.data.path,this.type=t.data.type,this.loading=!1,this.$store.commit("AMAZON_EXCEL_DATA",t.data),this.$emit("isBlock",this.tableData,this.template_name,this.path,this.type)),"201"==t.code&&this.$message.error("格式错误"),"202"==t.code&&this.$message.error("该SKU不属于当前用户")}}}),s=r,l=(a("e152"),a("2877")),o=Object(l["a"])(s,n,i,!1,null,"79f29a0f",null);e["a"]=o.exports},4475:function(t,e,a){"use strict";var n=a("38b3"),i=a.n(n);i.a},"44e7":function(t,e,a){var n=a("861d"),i=a("c6b6"),r=a("b622"),s=r("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==i(t))}},"4df4":function(t,e,a){"use strict";var n=a("0366"),i=a("7b0b"),r=a("9bdd"),s=a("e95a"),l=a("50c4"),o=a("8418"),c=a("35a1");t.exports=function(t){var e,a,u,m,p,d,h=i(t),g="function"==typeof this?this:Array,f=arguments.length,v=f>1?arguments[1]:void 0,b=void 0!==v,x=c(h),_=0;if(b&&(v=n(v,f>2?arguments[2]:void 0,2)),void 0==x||g==Array&&s(x))for(e=l(h.length),a=new g(e);e>_;_++)d=b?v(h[_],_):h[_],o(a,_,d);else for(m=x.call(h),p=m.next,a=new g;!(u=p.call(m)).done;_++)d=b?r(m,v,[u.value,_],!0):u.value,o(a,_,d);return a.length=_,a}},6547:function(t,e,a){var n=a("a691"),i=a("1d80"),r=function(t){return function(e,a){var r,s,l=String(i(e)),o=n(a),c=l.length;return o<0||o>=c?t?"":void 0:(r=l.charCodeAt(o),r<55296||r>56319||o+1===c||(s=l.charCodeAt(o+1))<56320||s>57343?t?l.charAt(o):r:t?l.slice(o,o+2):s-56320+(r-55296<<10)+65536)}};t.exports={codeAt:r(!1),charAt:r(!0)}},"7db0":function(t,e,a){"use strict";var n=a("23e7"),i=a("b727").find,r=a("44d2"),s=a("ae40"),l="find",o=!0,c=s(l);l in[]&&Array(1)[l]((function(){o=!1})),n({target:"Array",proto:!0,forced:o||!c},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(l)},"8aa5":function(t,e,a){"use strict";var n=a("6547").charAt;t.exports=function(t,e,a){return e+(a?n(t,e).length:1)}},9263:function(t,e,a){"use strict";var n=a("ad6d"),i=a("9f7f"),r=RegExp.prototype.exec,s=String.prototype.replace,l=r,o=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],m=o||u||c;m&&(l=function(t){var e,a,i,l,m=this,p=c&&m.sticky,d=n.call(m),h=m.source,g=0,f=t;return p&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),f=String(t).slice(m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&"\n"!==t[m.lastIndex-1])&&(h="(?: "+h+")",f=" "+f,g++),a=new RegExp("^(?:"+h+")",d)),u&&(a=new RegExp("^"+h+"$(?!\\s)",d)),o&&(e=m.lastIndex),i=r.call(p?a:m,f),p?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=m.lastIndex,m.lastIndex+=i[0].length):m.lastIndex=0:o&&i&&(m.lastIndex=m.global?i.index+i[0].length:e),u&&i&&i.length>1&&s.call(i[0],a,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(i[l]=void 0)})),i}),t.exports=l},"9f7f":function(t,e,a){"use strict";var n=a("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a630:function(t,e,a){var n=a("23e7"),i=a("4df4"),r=a("1c7e"),s=!r((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:s},{from:i})},ac1f:function(t,e,a){"use strict";var n=a("23e7"),i=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,a){"use strict";var n=a("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,a){var n=a("83ab"),i=a("9bf2").f,r=Function.prototype,s=r.toString,l=/^\s*function ([^ (]*)/,o="name";n&&!(o in r)&&i(r,o,{configurable:!0,get:function(){try{return s.call(this).match(l)[1]}catch(t){return""}}})},c740:function(t,e,a){"use strict";var n=a("23e7"),i=a("b727").findIndex,r=a("44d2"),s=a("ae40"),l="findIndex",o=!0,c=s(l);l in[]&&Array(1)[l]((function(){o=!1})),n({target:"Array",proto:!0,forced:o||!c},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(l)},c975:function(t,e,a){"use strict";var n=a("23e7"),i=a("4d64").indexOf,r=a("a640"),s=a("ae40"),l=[].indexOf,o=!!l&&1/[1].indexOf(1,-0)<0,c=r("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:o||!c||!u},{indexOf:function(t){return o?l.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},d784:function(t,e,a){"use strict";a("ac1f");var n=a("6eeb"),i=a("d039"),r=a("b622"),s=a("9263"),l=a("9112"),o=r("species"),c=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),m=r("replace"),p=function(){return!!/./[m]&&""===/./[m]("a","$0")}(),d=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,m){var h=r(t),g=!i((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),f=g&&!i((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[o]=function(){return a},a.flags="",a[h]=/./[h]),a.exec=function(){return e=!0,null},a[h](""),!e}));if(!g||!f||"replace"===t&&(!c||!u||p)||"split"===t&&!d){var v=/./[h],b=a(h,""[t],(function(t,e,a,n,i){return e.exec===s?g&&!i?{done:!0,value:v.call(e,a,n)}:{done:!0,value:t.call(a,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),x=b[0],_=b[1];n(String.prototype,t,x),n(RegExp.prototype,h,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}m&&l(RegExp.prototype[h],"sham",!0)}},d81d:function(t,e,a){"use strict";var n=a("23e7"),i=a("b727").map,r=a("1dde"),s=a("ae40"),l=r("map"),o=s("map");n({target:"Array",proto:!0,forced:!l||!o},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},ddb0:function(t,e,a){var n=a("da84"),i=a("fdbc"),r=a("e260"),s=a("9112"),l=a("b622"),o=l("iterator"),c=l("toStringTag"),u=r.values;for(var m in i){var p=n[m],d=p&&p.prototype;if(d){if(d[o]!==u)try{s(d,o,u)}catch(g){d[o]=u}if(d[c]||s(d,c,m),i[m])for(var h in r)if(d[h]!==r[h])try{s(d,h,r[h])}catch(g){d[h]=r[h]}}}},e152:function(t,e,a){"use strict";var n=a("3166"),i=a.n(n);i.a},ef2e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("amazonTemplate")],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"amazonTemplate"},[a("div",{staticClass:"top"},[a("el-row",[a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content bg-purple right"},[t._v("店铺名称：")])]),a("el-col",{attrs:{span:22}},[a("el-checkbox-group",{attrs:{size:"mini"},model:{value:t.checkboxshop,callback:function(e){t.checkboxshop=e},expression:"checkboxshop"}},[a("el-checkbox-button",{key:0,attrs:{label:0},on:{change:function(e){return t.changeshop(0)}}},[t._v("全部")]),t._l(t.storeList,(function(e){return a("el-checkbox-button",{key:e.id,attrs:{label:e.id},on:{change:function(a){return t.changeshop(e.id)}}},[t._v(t._s(e.store_name))])}))],2)],1)],1),a("el-row",[a("el-col",{attrs:{span:15}},[a("span",[t._v("模板名称：")]),a("el-input",{attrs:{placeholder:"请输入模板名称"},model:{value:t.templateName,callback:function(e){t.templateName=e},expression:"templateName"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:15}},[a("span",[t._v("创建时间：")]),a("el-date-picker",{staticStyle:{display:"inline-block",width:"33%!important"},attrs:{type:"datetime","value-format":"yyyy-MM-dd hh:mm:ss",placeholder:"起始日期"},model:{value:t.createdTime,callback:function(e){t.createdTime=e},expression:"createdTime"}}),a("span",{staticStyle:{display:"inline-block",width:"3%",padding:"0!important",amrgin:"0!important","text-align":"center"}},[t._v("~")]),a("el-date-picker",{staticStyle:{display:"inline-block",width:"33%!important"},attrs:{type:"datetime","value-format":"yyyy-MM-dd hh:mm:ss",placeholder:"结束日期"},model:{value:t.endedTime,callback:function(e){t.endedTime=e},expression:"endedTime"}}),a("el-button",{staticClass:"btnStyle",attrs:{size:"small"},on:{click:t.searchtemplate}},[t._v("搜索")]),a("el-button",{attrs:{size:"small"},on:{click:t.resettemplate}},[t._v("重置")])],1)],1),a("el-row",{staticStyle:{color:"#f7898a","font-size":"12px","margin-top":"10px"}},[t._v("系统模板未更新或无法汇出时，建议前往亚马逊后台下载最新模板，并【导入自定义模板】编辑使用（支持xls,xlsx格式）。")])],1),a("div",{staticClass:"main"},[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:3}},[a("uploadExcel",{attrs:{uploadData:t.uploadData},on:{isBlock:t.isBlock}})],1),a("el-col",{attrs:{span:6}},[a("ul",{staticClass:"rankUL"},t._l(t.rankUl,(function(e){return a("li",{key:e.id,class:e.id==t.selectedRank?"selectedliRank":"",on:{click:function(a){return t.selectRank(e.id)}}},[t._v(t._s(e.name)+" "),e.id==t.selectedRank?a("i",{staticClass:"el-icon-caret-bottom"}):t._e()])})),0)]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"pageCon",staticStyle:{float:"right","margin-right":"20px"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[50,100,200],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.confirmExportLoading,expression:"confirmExportLoading"}],attrs:{title:"导入自定义模板",visible:t.dialogImportTemVisible,align:"left","before-close":t.beforeClose},on:{"update:visible":function(e){t.dialogImportTemVisible=e}}},[a("el-form",{ref:"customTemplateFormRef",attrs:{model:t.customTemplateForm,rules:t.customTemplateFormRules}},[a("el-form-item",{attrs:{label:"所属店铺 ","label-width":"130px",required:!0}},[a("el-select",{attrs:{placeholder:"请选择店铺"},on:{change:t.storeNameChange},model:{value:t.customTemplateForm.store_name,callback:function(e){t.$set(t.customTemplateForm,"store_name",e)},expression:"customTemplateForm.store_name"}},t._l(t.storeList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.store_name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"模板名称: ","label-width":"130px",required:!0}},[a("el-input",{attrs:{placeholder:"Template Name"},model:{value:t.customTemplateForm.template_name,callback:function(e){t.$set(t.customTemplateForm,"template_name",e)},expression:"customTemplateForm.template_name"}})],1),a("el-form-item",{attrs:{label:"模板国家: ","label-width":"130px",required:!0}},[a("el-select",{attrs:{placeholder:"请选择国家"},model:{value:t.customTemplateForm.template_country,callback:function(e){t.$set(t.customTemplateForm,"template_country",e)},expression:"customTemplateForm.template_country"}},t._l(this.countryList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.zone_name,value:t.zone_name}})})),1)],1),a("el-form-item",{attrs:{label:"产品类型: ","label-width":"130px"}},[a("el-select",{attrs:{placeholder:"请选择模板类型"},model:{value:t.customTemplateForm.product_type,callback:function(e){t.$set(t.customTemplateForm,"product_type",e)},expression:"customTemplateForm.product_type"}},t._l(this.productTypeList,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"售卖形式: ","label-width":"130px"}},[a("el-radio-group",{model:{value:t.customTemplateForm.sales_type,callback:function(e){t.$set(t.customTemplateForm,"sales_type",e)},expression:"customTemplateForm.sales_type"}},[a("el-radio",{attrs:{label:"单品"}},[t._v("单品")]),a("el-radio",{attrs:{label:"尺码变体"}},[t._v("尺码变体")]),a("el-radio",{attrs:{label:"颜色尺码变体"}},[t._v("颜色尺码变体")]),a("el-radio",{staticStyle:{"margin-right":"0!important"},attrs:{label:"产品变体"}},[t._v(" 产品变体 "),a("el-popover",{staticStyle:{"font-size":"10px!important"},attrs:{placement:"top-start",width:"285",trigger:"hover",content:"将多个定制产品按照“合并数量汇出成1个母字母， 为了保证颜色唯一性，汇出的相同颜色将固定加上序号”"}},[a("el-button",{staticStyle:{height:"10px",border:"none!important",padding:"0!important"},attrs:{slot:"reference",icon:"el-icon-question"},slot:"reference"})],1)],1)],1)],1),"产品变体"==this.customTemplateForm.sales_type?a("div",{staticClass:"productVariantBox productVariantBox1"},[a("el-form-item",{attrs:{label:"合并数量: ","label-width":"128px"}},[a("el-input",{staticStyle:{width:"250px!important"},attrs:{type:"number",placeholder:"最多支持30个合并数量"},model:{value:t.customTemplateForm.concatNumber,callback:function(e){t.$set(t.customTemplateForm,"concatNumber",e)},expression:"customTemplateForm.concatNumber"}})],1),a("el-form-item",{staticStyle:{"line-height":"30px"},attrs:{label:"颜色名称生成规则:","label-width":"128px"}},[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVarTogether()},blur:function(e){return t.InsertTogetherBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right-start"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varTogetherIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarTogether?a("ul",{staticClass:"nameList nameList1",on:{mouseleave:t.InsertTogetherBlur,click:function(e){return t.selectProductNameTogether()}}},t._l(t.varListTogether,(function(e,n){return a("li",{key:n,staticClass:"indexLi",on:{click:function(a){return t.selectVarTogether("colorNameRegular",e.value)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"250px!important","margin-left":"15px"},attrs:{type:"textarea",id:"colorNameRegular",rows:2},model:{value:t.customTemplateForm.colorNameRegular,callback:function(e){t.$set(t.customTemplateForm,"colorNameRegular",e)},expression:"customTemplateForm.colorNameRegular"}})],1)],1):t._e(),a("el-form-item",{attrs:{label:"商品编码: ","label-width":"130px",id:"code_item"}},[a("el-select",{attrs:{id:"code"},model:{value:t.customTemplateForm.goods_code,callback:function(e){t.$set(t.customTemplateForm,"goods_code",e)},expression:"customTemplateForm.goods_code"}},[a("el-option",{attrs:{label:"不汇出",value:"不汇出"}}),a("el-option",{attrs:{label:"编码生成",value:"编码生成"}}),a("el-option",{attrs:{label:"编码导入",value:"编码导入"}})],1)],1),a("el-form-item",{attrs:{label:"同步产品图片域名: ","label-width":"130px"}},[a("el-input",{attrs:{placeholder:"仅亚马逊平台需要填写，默认:http://amus.hicustom.com"},model:{value:t.customTemplateForm.domain_name,callback:function(e){t.$set(t.customTemplateForm,"domain_name",e)},expression:"customTemplateForm.domain_name"}}),a("div",{staticClass:"imageIntro"},[t._v(" 如需要独立图片域名，请 "),a("span",{staticClass:"buy"},[t._v("点击直接购买")]),t._v("并填入您的域名给客服处理。（自行填写系统未设定的域名会无法显示图片） ")])],1),a("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"产品图片: ","label-width":"130px"}},[a("div",{staticStyle:{height:"20px","line-height":"20px","font-size":"12px","margin-bottom":"30px"}},[a("span",{staticStyle:{background:"#129ba7","padding-left":"5px",color:"#fff"}},[t._v("说明！")]),t._v(" 点击图片拖动，即可调整图片顺序！ [图片最多选择9张，已经选择了2张] "),a("br"),a("span",{staticStyle:{"margin-left":"45px"}},[t._v(" 每个变种将分别按照以下顺序汇出图片。[可在定制产品列表查看产品各颜色的效果图 "),a("i",{staticClass:"el-icon-question"}),t._v("] ")])]),a("ul",{ref:"parentNode",staticStyle:{overflow:"hidden","margin-right":"0px",display:"inline"},on:{dragstart:t.onDragStart,dragover:t.onDragOver,dragend:t.onDragEnd}},t._l(this.fileList,(function(e,n){return a("li",{key:n,class:0==n?"resPicLiActive":"resPicLi",staticStyle:{float:"left!important",position:"relative",width:"100px",height:"100px",border:"1px solid #ccc","margin-right":"10px","margin-bottom":"10px",background:"#fafafa","font-size":"10px!important"},attrs:{draggable:!0}},[0==n?a("el-tag",{staticStyle:{position:"absolute",top:"-2px",left:"-2px"},attrs:{type:"danger",size:"mini"}},[t._v("主图")]):t._e(),""!==e.url?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.url,expression:"item.url"}],staticStyle:{float:"left",width:"100px",height:"100px"}}):t._e(),""==e.url?a("p",{staticStyle:{position:"absolute",top:"20px",left:"25px","text-align":"center","z-index":"2"}},[t._v(t._s("{"+e.index+"}"))]):t._e(),a("div",{staticStyle:{width:"100px",height:"25px","line-height":"25px",background:"#3ba5ea",position:"absolute",bottom:"0",left:"0",color:"#fff","text-align":"center","font-size":"10px!important"}},[0!==n?a("span",{staticStyle:{cursor:"pointer","z-index":"9999","margin-right":"15px"},on:{click:function(e){return t.setMainPic(n)}}},[t._v(" 设为主图")]):t._e(),a("span",{staticStyle:{cursor:"pointer","z-index":"9999"},on:{click:function(e){return t.removeResultPic(n)}}},[t._v(" 移除")])])],1)})),0),this.length<9?a("div",{staticStyle:{display:"inline-block",position:"relative",width:"220px"}},[a("div",{staticStyle:{display:"inline-block",width:"100px",height:"100px",border:"1px dashed #ccc",position:"relative","margin-bottom":"10px"},on:{mouseover:function(e){t.insertVariable=!0}}},[a("i",{staticClass:"el-icon-plus plus",attrs:{slot:"default"},slot:"default"})]),this.insertVariable?a("ul",{staticClass:"varUl",staticStyle:{position:"absolute",top:"0",left:"100px",width:"70px",border:"1px solid #ccc"}},[a("li",{on:{mouseover:function(e){t.resultPic=!0}}},[t._v("插入变量")]),a("li",{on:{click:function(e){return t.insertNativeImg()},mouseleave:function(e){return t.nativeMouseleave()},mouseover:function(e){t.resultPic=!1}}},[t._v("本地图片")]),a("li",{on:{click:function(e){return t.insertSourceImg()},mouseleave:function(e){return t.nativeMouseleave()},mouseover:function(e){t.resultPic=!1}}},[t._v("素材图片")])]):t._e(),this.resultPic?a("div",{staticStyle:{position:"absolute",top:"0",left:"170px",width:"70px",border:"1px solid #ccc","z-index":"9999!important",background:"#fff"},on:{mouseleave:function(e){return t.mouseleave()}}},t._l(t.resultWordList,(function(e){return a("ul",{key:e.index,staticClass:"resultUl"},[a("li",{on:{click:function(a){return t.confirmInserVar(e.name)}}},[t._v(t._s(e.name))])])})),0):t._e()]):t._e()]),t._l(t.productVaribles,(function(e,n){return a("el-collapse",{key:n},[a("el-collapse-item",[a("template",{slot:"title"},[t._v(" "+t._s(e[0].name)+" ")]),t._l(e,(function(n,i){return 0!==i?a("el-form-item",{key:i,staticClass:"amazonCollapseItem",attrs:{label:n.name+":","label-width":"210px",required:"Required"==e[0].name&&"Required"==n.type}},["standard_price"==n.name?a("div",{staticStyle:{height:"20px","line-height":"20px","font-size":"12px"}},[a("span",{staticStyle:{background:"#129ba7","padding-left":"5px",color:"#fff"}},[t._v("说明！")]),t._v(" 变种价格规则，可在产品汇出时根据颜色或尺码设定 ")]):t._e(),!n.params||"color"===n.name||"color_map"===n.name||"size_map"===n.name||"size"===n.name||"item_name"===n.name&&"product_description"===n.name&&"bullet_point1 - bullet_point5"===n.name&&"thesaurus_subject_keywords1 - thesaurus_subject_keywords3"===n.name?"item_name"===n.name?a("div",[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(n.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVar?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(n.name)}}},t._l(t.VarList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.insertInputTxt("idItemName",e.value,n.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"400px!important","margin-left":"15px","margin-top":"-8px"},attrs:{type:"textarea",id:"idItemName",rows:4},model:{value:t.customTemplateFormBot[e[0].name][n.name],callback:function(a){t.$set(t.customTemplateFormBot[e[0].name],n.name,a)},expression:"customTemplateFormBot[item[0].name][item1.name]"}})],1):"product_description"===n.name?a("div",[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(n.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarDes?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(n.name)}}},t._l(t.VarList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.insertInputTxt("idItemproDes",e.value,n.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"400px!important","margin-left":"15px","margin-top":"-8px"},attrs:{type:"textarea",id:"idItemproDes",rows:4},model:{value:t.customTemplateFormBot[e[0].name][n.name],callback:function(a){t.$set(t.customTemplateFormBot[e[0].name],n.name,a)},expression:"customTemplateFormBot[item[0].name][item1.name]"}})],1):"bullet_point1"===n.name?a("div",[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(n.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul1?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(n.name)}}},t._l(t.VarList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.insertInputTxt("idBullet1",e.value,n.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"400px!important","margin-left":"15px","margin-top":"-8px"},attrs:{type:"textarea",id:"idBullet1",rows:4},model:{value:t.customTemplateFormBot[e[0].name][n.name],callback:function(a){t.$set(t.customTemplateFormBot[e[0].name],n.name,a)},expression:"customTemplateFormBot[item[0].name][item1.name]"}})],1):"bullet_point2"===n.name?a("div",[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(n.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul2?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(n.name)}}},t._l(t.VarList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.insertInputTxt("idBullet2",e.value,n.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"400px!important","margin-left":"15px","margin-top":"-8px"},attrs:{type:"textarea",id:"idBullet2",rows:4},model:{value:t.customTemplateFormBot[e[0].name][n.name],callback:function(a){t.$set(t.customTemplateFormBot[e[0].name],n.name,a)},expression:"customTemplateFormBot[item[0].name][item1.name]"}})],1):"bullet_point3"===n.name?a("div",[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(n.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul3?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(n.name)}}},t._l(t.VarList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.insertInputTxt("idBullet3",e.value,n.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"400px!important","margin-left":"15px","margin-top":"-8px"},attrs:{type:"textarea",id:"idBullet3",rows:4},model:{value:t.customTemplateFormBot[e[0].name][n.name],callback:function(a){t.$set(t.customTemplateFormBot[e[0].name],n.name,a)},expression:"customTemplateFormBot[item[0].name][item1.name]"}})],1):"bullet_point4"===n.name?a("div",[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(n.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul4?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(n.name)}}},t._l(t.VarList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.insertInputTxt("idBullet4",e.value,n.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"400px!important","margin-left":"15px","margin-top":"-8px"},attrs:{type:"textarea",id:"idBullet4",rows:4},model:{value:t.customTemplateFormBot[e[0].name][n.name],callback:function(a){t.$set(t.customTemplateFormBot[e[0].name],n.name,a)},expression:"customTemplateFormBot[item[0].name][item1.name]"}})],1):"bullet_point5"===n.name?a("div",[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(n.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarBul5?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(n.name)}}},t._l(t.VarList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.insertInputTxt("idBullet5",e.value,n.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"400px!important","margin-left":"15px","margin-top":"-8px"},attrs:{type:"textarea",id:"idBullet5",rows:4},model:{value:t.customTemplateFormBot[e[0].name][n.name],callback:function(a){t.$set(t.customTemplateFormBot[e[0].name],n.name,a)},expression:"customTemplateFormBot[item[0].name][item1.name]"}})],1):"thesaurus_subject_keywords1"===n.name?a("div",[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(n.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarKey1?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(n.name)}}},t._l(t.VarList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.insertInputTxt("idSubKey1",e.value,n.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"400px!important","margin-left":"15px","margin-top":"-8px"},attrs:{type:"textarea",id:"idSubKey1",rows:4},model:{value:t.customTemplateFormBot[e[0].name][n.name],callback:function(a){t.$set(t.customTemplateFormBot[e[0].name],n.name,a)},expression:"customTemplateFormBot[item[0].name][item1.name]"}})],1):"thesaurus_subject_keywords2"===n.name?a("div",[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(n.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarKey2?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(n.name)}}},t._l(t.VarList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.insertInputTxt("idSubKey2",e.value,n.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"400px!important","margin-left":"15px","margin-top":"-8px"},attrs:{type:"textarea",id:"idSubKey2",rows:4},model:{value:t.customTemplateFormBot[e[0].name][n.name],callback:function(a){t.$set(t.customTemplateFormBot[e[0].name],n.name,a)},expression:"customTemplateFormBot[item[0].name][item1.name]"}})],1):"thesaurus_subject_keywords3"===n.name?a("div",[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(n.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarKey3?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(n.name)}}},t._l(t.VarList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.insertInputTxt("idSubKey3",e.value,n.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"400px!important","margin-left":"15px","margin-top":"-8px"},attrs:{type:"textarea",id:"idSubKey3",rows:4},model:{value:t.customTemplateFormBot[e[0].name][n.name],callback:function(a){t.$set(t.customTemplateFormBot[e[0].name],n.name,a)},expression:"customTemplateFormBot[item[0].name][item1.name]"}})],1):"generic_keywords"===n.name?a("div",[a("div",{staticClass:"insertVar",on:{click:function(e){return t.clickInsertVar(n.name)},blur:function(e){return t.InsertBlur()}}},[t._v("插入变量")]),a("el-tooltip",{attrs:{effect:"light",placement:"right"}},[a("div",{staticStyle:{padding:"5px 20px 10px"},attrs:{slot:"content"},slot:"content"},[a("p",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("变量说明")]),a("el-table",{attrs:{data:t.varIntro,border:""}},[a("el-table-column",{attrs:{property:"var_title",label:"名称",width:"150",align:"center"}}),a("el-table-column",{attrs:{property:"var_name",label:"变量",width:"200",align:"center"}}),a("el-table-column",{attrs:{property:"var_intro",label:"说明",align:"center",width:"300"}})],1)],1),a("el-button",{staticStyle:{width:"10px",height:"10px",border:"none",padding:"0"}},[a("i",{staticClass:"el-icon-question"})])],1),t.IsInsertVarGeneric?a("ul",{staticClass:"nameList",on:{mouseleave:t.InsertBlur,click:function(e){return t.selectProductName(n.name)}}},t._l(t.VarList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.insertInputTxt("idkey",e.value,n.name)}}},[t._v(t._s(e.name))])})),0):t._e(),a("el-input",{staticStyle:{display:"block!important",width:"400px!important","margin-left":"15px","margin-top":"-8px"},attrs:{type:"textarea",id:"idkey",rows:4},model:{value:t.customTemplateFormBot[e[0].name][n.name],callback:function(a){t.$set(t.customTemplateFormBot[e[0].name],n.name,a)},expression:"customTemplateFormBot[item[0].name][item1.name]"}})],1):"color"===n.name||n.params&&"color_map"===n.name||"color_name"===n.name?a("el-input",{staticClass:"defaultSizeColorInput",attrs:{value:"根据产品颜色自动生成"}}):"size"===n.name||n.params&&"size_map"===n.name||"size_name"===n.name?a("el-input",{staticClass:"defaultSizeColorInput",attrs:{value:"根据产品尺码自动生成"}}):a("el-input",{attrs:{placeholder:n.name},model:{value:t.customTemplateFormBot[e[0].name][n.name],callback:function(a){t.$set(t.customTemplateFormBot[e[0].name],n.name,a)},expression:"customTemplateFormBot[item[0].name][item1.name]"}}):a("el-select",{attrs:{placeholder:n.name},model:{value:t.customTemplateFormBot[e[0].name][n.name],callback:function(a){t.$set(t.customTemplateFormBot[e[0].name],n.name,a)},expression:"customTemplateFormBot[item[0].name][item1.name]"}},t._l(n.params,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1),"item_sku"==n.name?a("div",{staticStyle:{"font-size":"12px",margin:"-10px 0 10px 15px"}},[a("p",{staticStyle:{height:"20px"}},[t._v("1.sku可添加前缀，例如：Exceple_123456,For_example_")])]):t._e()],1):t._e()}))],2)],1)}))],2),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticStyle:{float:"left","line-height":"1"}},[a("span",{staticStyle:{display:"inline-block",width:"130px","text-align":"left","margin-left":"34px"}},[t._v("汇出格式：")]),a("el-radio-group",{model:{value:t.customTemplateForm.or_format,callback:function(e){t.$set(t.customTemplateForm,"or_format",e)},expression:"customTemplateForm.or_format"}},[a("el-radio",{attrs:{label:"txt"}},[t._v("txt")]),a("el-radio",{attrs:{label:"xlsx"}},[t._v("xlsx")])],1)],1),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogImportTemVisible=!1}}},[t._v("取 消")]),a("el-button",{staticClass:"btnStyle",staticStyle:{"margin-right":"34px"},attrs:{size:"small",disabled:t.saveDisabled},on:{click:t.submitInfo}},[t._v("确 定")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.templateLoading,expression:"templateLoading"}],staticClass:"exportRecordTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"模板编号","min-width":"80px",align:"center"}}),a("el-table-column",{attrs:{prop:"template_name",label:"模板名称","min-width":"150px",align:"center"}}),a("el-table-column",{attrs:{prop:"product_type",label:"模板类型","min-width":"150px",align:"center"}}),a("el-table-column",{attrs:{prop:"address",label:"产品编号","min-width":"100px",align:"center"}}),a("el-table-column",{attrs:{prop:"store_name_alias",label:"所属店铺","min-width":"100px",align:"center"}}),a("el-table-column",{attrs:{prop:"address",label:"排序值","min-width":"100px",align:"center"}}),a("el-table-column",{attrs:{prop:"address",label:"时间","min-width":"150px",align:"center"}}),a("el-table-column",{attrs:{label:"操作","min-width":"250px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.copyTemplate(e.row)}}},[t._v("复制模板")]),a("el-button",{attrs:{size:"mini"}},[t._v("复制到其他店铺")]),a("el-button",{staticClass:"btnDelete",attrs:{size:"mini"},on:{click:function(a){return t.beforeDelete(e.row)}}},[t._v("删除")])]}}])})],1)],1),a("el-dialog",{staticClass:"insertImgDialog",attrs:{title:"插入图片",visible:t.insertImgDialogVisible,width:"70%"},on:{"update:visible":function(e){t.insertImgDialogVisible=e},closed:t.insertIMgClose}},[a("el-tabs",{on:{"tab-click":t.handleClickInsertImg},model:{value:t.insertImgActiveName,callback:function(e){t.insertImgActiveName=e},expression:"insertImgActiveName"}},[a("el-tab-pane",{attrs:{name:"first"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-monitor"}),t._v(" 本地 ")]),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",multiple:"",action:"http://api.321.design/v1/TemplateUploadImgs",data:t.imgQuery,name:"image","list-type":"picture-card","auto-upload":!1,"file-list":t.fileListNative,"on-success":t.handleSuccess}},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1),a("el-tab-pane",{attrs:{name:"second"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-picture-outline"}),t._v(" 素材 ")]),a("div",{staticClass:"search"},[a("el-input",{model:{value:t.sourceImgName,callback:function(e){t.sourceImgName=e},expression:"sourceImgName"}}),a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("搜索")])],1),a("div",{staticClass:"textRight"},[a("el-pagination",{staticClass:"displayInlineBlock",attrs:{"current-page":t.currentPageSource,"page-sizes":[10,20,50],"page-size":10,layout:"sizes, prev, pager, next",total:t.totalSource},on:{"size-change":t.handleSizeChangeSource,"current-change":t.handleCurrentChangeSource,"update:currentPage":function(e){t.currentPageSource=e},"update:current-page":function(e){t.currentPageSource=e}}}),a("div",{staticClass:"displayInlineBlock"},[t._v("共"+t._s(t.totalSource)+"张")])],1),a("div",{staticClass:"sourceListBox"},[a("el-checkbox-group",{on:{change:t.selectSourceImgChange},model:{value:t.checkedSourceImgsIds,callback:function(e){t.checkedSourceImgsIds=e},expression:"checkedSourceImgsIds"}},t._l(t.sourceImgList,(function(e,n){return a("el-checkbox",{key:n,staticClass:"imgLibox",attrs:{label:e,name:e.id+""}},[a("div",{staticClass:"imgBox"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.path,expression:"item.path"}],attrs:{alt:""}}),a("div",{staticClass:"box"},[a("span",{staticClass:"fl"},[t._v(t._s(e.width)+"*"+t._s(e.height))]),a("span",{staticClass:"fr"},[t._v(t._s(e.size))])])]),a("p",[t._v(t._s(e.name))])])})),1)],1)])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.insertImgDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:t.insertImgUpload}},[t._v("确 定")])],1)],1)],1)},s=[],l=(a("7db0"),a("c740"),a("a630"),a("c975"),a("d81d"),a("a434"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("96cf"),a("1da1")),o=a("3de1"),c={data:function(){return{checkboxshop:[0],dragindex1:0,dragindex2:0,checkedSourceImgsIds:[],sourceImgList:[],sourceImgName:"",imgQuery:{id:"",u_id:""},currentPageSource:1,totalSource:0,insertImgActiveName:"first",insertImgDialogVisible:!1,fileListNative:[],templateLoading:!1,productTypeList:[],confirmExportLoading:!1,VarList:[{name:"主题名称",value:"{designName}",values_alias:"{$designName}"},{name:"空白产品名称",value:"{productName}",values_alias:"{$productName}"},{name:"产品标签",value:"{tags}",values_alias:"{$tags}"},{name:"颜色名称",value:"{colorName}",values_alias:"{$colorName}"},{name:"尺码名称",value:"{sizeName}",values_alias:"{$sizeName}"},{name:"空白产品编号",value:"{productTypeId}",values_alias:"{$productTypeId}"},{name:"定制产品编号",value:"{customProductId}",values_alias:"{$customProductId}"},{name:"品牌",value:"{brandName}",values_alias:"{$brandName}"}],varListTogether:[{name:"主题名称",value:"{designName}"},{name:"空白产品名称",value:"{productName}"},{name:"颜色名称",value:"{colorName}"},{name:"序号",value:"{number}"}],VarDialogVisible:!1,varIntro:[{var_title:"主题名称",var_name:"{designName}",var_intro:"读取店铺对应语言的主题名称，若产品设置了店铺别名，将读取店铺别名。"},{var_title:"空白产品名称",var_name:"{productName}",var_intro:"读取店铺对应语言的空白产品名称。"},{var_title:"产品标签",var_name:"{tags}",var_intro:"读取全部产品标签，使用变量{tags}；读取前几个产品标签，并加上后缀词，使用变量{tag+个数+后缀词}，如{tag5 t shirt}；读取随机几个产品标签，并加上后缀词，使用变量{rtag+个数+后缀词} ，如{rtag5 Case}"},{var_title:"颜色名称",var_name:"{colorName}",var_intro:"模板中设置了自定义颜色名称时，将读取自定义名称。"},{var_title:"尺码名称",var_name:"{sizeName}",var_intro:"模板中设置了自定义尺码名称时，将读取自定义名称。"},{var_title:"空白产品编号",var_name:"{productTypeId}",var_intro:"读取对应的空白产品编号。"},{var_title:"定制产品编号",var_name:"{customProductId}",var_intro:"读取对应的定制产品编号。"},{var_title:"品牌",var_name:"\t{brandName}",var_intro:"读取当前模板中所填写的品牌名称。"},{var_title:"其他",var_name:"\t{词组A,词组B,词组C}",var_intro:"可在文本框中按变量格式输入多个词组（不限数量），并用“,”隔开，汇出时每个变体将随机读取1个词组。"}],varTogetherIntro:[{var_title:"主题名称",var_name:"{designName}",var_intro:"读取店铺对应语言的主题名称，若产品设置了店铺别名，将读取店铺别名。"},{var_title:"空白产品名称",var_name:"{productName}",var_intro:"读取店铺对应语言的空白产品名称。"},{var_title:"颜色名称",var_name:"{colorName}",var_intro:"模板中设置了自定义颜色名称时，将读取自定义名称。"},{var_title:"序号",var_name:"\t{number}",var_intro:"“1，2，3，4.....”的数字序号"}],VarDialogVisibleTogether:!1,IsInsertVarTogether:!1,IsInsertVar:!1,IsInsertVarDes:!1,IsInsertVarBul1:!1,IsInsertVarBul2:!1,IsInsertVarBul3:!1,IsInsertVarBul4:!1,IsInsertVarBul5:!1,IsInsertVarKey1:!1,IsInsertVarKey2:!1,IsInsertVarKey3:!1,IsInsertVarGeneric:!1,resultWordList:[{index:0,name:"全部"},{index:1,name:"效果图1"},{index:2,name:"效果图2"},{index:3,name:"效果图3"},{index:4,name:"效果图4"},{index:5,name:"效果图5"},{index:6,name:"效果图6"},{index:7,name:"效果图7"},{index:8,name:"效果图8"},{index:9,name:"效果图9"}],resultPic:!1,insertVariable:!1,currentPage:1,pageSize:20,total:0,fileList:[{index:"效果图1",type:"1",url:""},{index:"效果图2",type:"1",url:""}],uploadData:{action:"http://api.321.design/v1/TemplateUploadImgs",buttonName:"导入自定义模板",autoUpload:!0,componentName:"excel",name:"excel"},tableData:[],selectedRank:"1",options:[],rankUl:[{id:1,name:"按顺序值"},{id:2,name:"按创建时间"},{id:3,name:"按更新时间"}],shop:"全部",templateType:"",templateName:"",createdTime:"",endedTime:"",dialogImportTemVisible:!1,productVaribles:[],customTemplateForm:{store_name:"",template_name:"",template_country:"",template_country_id:0,product_type:"",concatNumber:"",colorNameRegular:"",templateSort:"",sales_type:"产品变体",path:"",goods_code:"",domain_name:"",or_format:"xlsx",imgs:[],data:[],excel_message:""},customTemplateFormBot:{},customTemplateFormArr:[],customTemplateFormRules:{},isAdd:[],addIndex:0,countryList:[],dialogImageUrl:"",dialogVisible:!1,disabled:!1,imageList:[],saveDisabled:!1,limit:50,storeList:[]}},methods:{changeshop:function(t){0==t?this.checkboxshop=[0]:-1!=this.checkboxshop.indexOf(0)&&this.checkboxshop.splice(this.checkboxshop.indexOf(0),1),0==this.checkboxshop.length&&(this.checkboxshop=[0]),this.getTableList()},storeNameChange:function(){console.log(this.customTemplateForm.store_name)},handleSizeChangeSource:function(t){this.getSourceImgList()},handleCurrentChangeSource:function(t){this.currentPageSource=t,this.getSourceImgList()},selectSourceImgChange:function(t){console.log(t)},insertIMgClose:function(){this.checkedSourceImgsIds=[]},handleSuccess:function(t,e,a){console.log(e),console.log(this.fileList),this.fileList.length<9&&this.fileList.push({index:"",type:"2",url:e.response.data}),this.insertImgDialogVisible=!1},insertImgUpload:function(){if("first"==this.insertImgActiveName)this.imgQuery.id=this.templateId,this.imgQuery.u_id=sessionStorage.getItem("selectUId"),this.$refs.upload.submit();else{console.log(this.checkedSourceImgsIds);for(var t=0;t<this.checkedSourceImgsIds.length;t++)this.fileList.length<9&&this.fileList.push({index:"",type:"2",url:this.checkedSourceImgsIds[t].path}),this.insertImgDialogVisible=!1}},handleClickInsertImg:function(t){this.getSourceImgList()},getSourceImgList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.TemplateImgList({id:t.templateId,page:t.currentPageSource});case 2:a=e.sent,200==a.data.code&&(t.sourceImgList=a.data.data.data,t.totalSource=a.data.data.total);case 4:case"end":return e.stop()}}),e)})))()},insertNativeImg:function(){var t=this;this.insertImgActiveName="first",this.fileListNative=[],setTimeout((function(){t.insertImgDialogVisible=!0}),500),this.insertVariable=!1},insertSourceImg:function(){this.insertImgActiveName="second",this.fileListNative=[],this.getSourceImgList(),this.insertImgDialogVisible=!0,this.insertVariable=!1},beforeClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))},selectBelongedShop:function(t){this.shop=t},selectRank:function(t){this.selectedRank=t},selectVar:function(t,e){for(var a in this.customTemplateFormBot)for(var n in this.customTemplateFormBot[a])n==e&&(this.customTemplateFormBot[a][n]=this.customTemplateFormBot[a][n]+t)},insertInputTxt:function(t,e,a){var n=document.getElementById(t),i=n.selectionStart,r=n.selectionEnd;for(var s in this.customTemplateFormBot)for(var l in this.customTemplateFormBot[s])l==a&&(this.customTemplateFormBot[s][l]=this.customTemplateFormBot[s][l].substring(0,i)+e+this.customTemplateFormBot[s][l].substring(r))},selectVarTogether:function(t,e){var a=document.getElementById(t),n=a.selectionStart,i=a.selectionEnd;this.customTemplateForm.colorNameRegular=this.customTemplateForm.colorNameRegular.substring(0,n)+e+this.customTemplateForm.colorNameRegular.substring(i)},clickInsertVarTogether:function(){this.IsInsertVarTogether=!0},clickInsertVar:function(t){"item_name"==t?this.IsInsertVar=!this.IsInsertVar:"product_description"==t?this.IsInsertVarDes=!this.IsInsertVarDes:"bullet_point1"==t?this.IsInsertVarBul1=!this.IsInsertVarBul1:"bullet_point2"==t?this.IsInsertVarBul2=!this.IsInsertVarBul2:"bullet_point3"==t?this.IsInsertVarBul3=!this.IsInsertVarBul3:"bullet_point4"==t?this.IsInsertVarBul4=!this.IsInsertVarBul4:"bullet_point5"==t?this.IsInsertVarBul5=!this.IsInsertVarBul5:"thesaurus_subject_keywords1"==t?this.IsInsertVarKey1=!this.IsInsertVarKey1:"thesaurus_subject_keywords2"==t?this.IsInsertVarKey2=!this.IsInsertVarKey2:"thesaurus_subject_keywords3"==t?this.IsInsertVarKey3=!this.IsInsertVarKey3:this.IsInsertVarGeneric=!this.IsInsertVarGeneric},InsertTogetherBlur:function(){this.IsInsertVarTogether=!1},InsertBlur:function(){this.IsInsertVar=!1,this.VarDialogVisible=!1,this.IsInsertVarDes=!1,this.IsInsertVarBul=!1,this.IsInsertVarKey=!1},selectProductNameTogether:function(){this.IsInsertVarTogether=!1},selectProductName:function(t){"item_name"==t?this.IsInsertVar=!1:"product_description"==t?this.IsInsertVarDes=!1:"bullet_point1"==t?this.IsInsertVarBul1=!1:"bullet_point2"==t?this.IsInsertVarBul2=!1:"bullet_point3"==t?this.IsInsertVarBul3=!1:"bullet_point4"==t?this.IsInsertVarBul4=!1:"bullet_point5"==t?this.IsInsertVarBul5=!1:"thesaurus_subject_keywords1"==t?this.IsInsertVarKey1=!1:"thesaurus_subject_keywords2"==t?this.IsInsertVarKey2=!1:"thesaurus_subject_keywords3"==t?this.IsInsertVarKey3=!1:this.IsInsertVarGeneric=!1},nativeMouseleave:function(){this.resultPic=!1},mouseleave:function(){this.resultPic=!1,this.insertVariable=!1},onDragStart:function(t){this.draging=t.target,this.dragindex1=this._index(this.draging)},onDragOver:function(t){this.target=t.target,"LI"===this.target.nodeName&&this.target!==this.draging&&(this.fileList[this._index(this.draging)]=this.fileList.splice(this._index(this.target),1,this.fileList[this._index(this.draging)])[0])},onDragEnd:function(t){var e=this,a=Array.from(this.$refs.parentNode.childNodes);a.map((function(t,a){var n=e.fileList.find((function(e){return e==t.innerText}));return n}))},_index:function(t){var e=Array.from(this.$refs.parentNode.childNodes);return e.findIndex((function(e){return e.innerText==t.innerText}))},setMainPic:function(t){this.fileList.unshift(this.fileList.splice(t,1)[0])},removeResultPic:function(t){this.fileList.splice(t,1)},confirmInserVar:function(t){if("全部"==t){this.fileList=[];for(var e=1;e<this.resultWordList.length;e++){var a={index:this.resultWordList[e].name,type:"1",url:""};this.fileList.push(a)}}else{var n={index:t,type:"1",url:""};this.fileList.push(n)}},handleSizeChange:function(t){this.limit=t,this.getTableList()},handleCurrentChange:function(t){this.currentPage=t,this.getTableList()},handleRemove:function(t){},handleChange:function(t,e){this.imageList.push(t),this.fileList=e},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleEdit:function(t){this.$router.push({path:"/editTemplate",query:{id:t.id}})},copyTemplate:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.api.copyExcel({id:t.id});case 2:n=a.sent,"200"==n.data.code?(e.$message({message:"复制模板成功",type:"success"}),e.getTableList()):e.$message.error("复制模板失败");case 4:case"end":return a.stop()}}),a)})))()},beforeDelete:function(t){var e=this;this.$confirm("此操作将永久删除该模板信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.handleDelete(t.id)})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleDelete:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.api.templateDelete({id:t});case 2:n=a.sent,"200"==n.data.code?(e.$message({message:"删除模板成功",type:"success"}),e.getTableList()):e.$message.error("删除模板失败");case 4:case"end":return a.stop()}}),a)})))()},isBlock:function(t,e,a,n){this.bigObj=t,this.saveDisabled=!1,this.customTemplateForm.template_name=e,this.dialogImportTemVisible=!0,this.productTypeList=n,this.customTemplateForm.product_type=this.productTypeList[0],this.productVaribles=t[this.productTypeList[0]],this.customTemplateForm.excel_message=t[this.productTypeList[0]],this.customTemplateForm.path=a,this.$set(this.customTemplateForm,"productTypeList",n),this.$set(this.customTemplateForm,"all_excel_message",t);this.productVaribles.length;for(var i=0;i<this.productVaribles.length;i++)for(var r=this.productVaribles[i].length,s=0;s<r;s++)0==s?this.$set(this.customTemplateFormBot,this.productVaribles[i][0].name,{}):this.productVaribles[i][s].params?(this.productVaribles[i][s].params.unshift("无"),"parent_child"==this.productVaribles[i][s].name?this.$set(this.customTemplateFormBot[this.productVaribles[i][0].name],this.productVaribles[i][s].name,"Child"):"relationship_type"==this.productVaribles[i][s].name?this.$set(this.customTemplateFormBot[this.productVaribles[i][0].name],this.productVaribles[i][s].name,"Variation"):this.$set(this.customTemplateFormBot[this.productVaribles[i][0].name],this.productVaribles[i][s].name,"")):this.$set(this.customTemplateFormBot[this.productVaribles[i][0].name],this.productVaribles[i][s].name,"");for(var l in t){for(var o=0;o<t[l].length;o++)for(var c=1;c<t[l][o].length;c++)this.$set(t[l][o][c],"values","");if(l!==this.productTypeList[0])for(s=0;s<t[l].length;s++)for(c=1;c<t[l][s].length;c++)t[l][s][c].params&&t[l][s][c].params.unshift("无")}console.log(this.productVaribles)},getCountryList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.CountryList();case 2:a=e.sent,"200"==a.data.code?t.countryList=a.data.data:t.errorMess("获取国家列表失败");case 4:case"end":return e.stop()}}),e)})))()},imgUpload:function(){var t=this;if(0==this.imageList.length)this.$message({message:"请上传产品图片",type:"error"});else{this.saveDisabled=!0;var e=new FormData,a=this;e.append("files",this.files);for(var n=0;n<a.imageList.length;n++){var i=a.imageList[n].raw;e.append("image[]",i)}this.imgRequest("/v1/upLoadimgs",e).then((function(e){200==e.data.code&&(t.customTemplateForm.imgs=e.data.data,t.submitInfo())})).catch((function(e){t.saveDisabled=!1}))}},submitInfo:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,n,i,r,s,l,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a in console.log(t.fileList),t.customTemplateFormBot)if("Required"!==a)for(n in t.customTemplateFormBot[a])"无"==t.customTemplateFormBot[a][n]&&(t.customTemplateFormBot[a][n]="");e.t0=regeneratorRuntime.keys(t.customTemplateFormBot.Required);case 3:if((e.t1=e.t0()).done){e.next=20;break}i=e.t1.value,r=0;case 6:if(!(r<t.customTemplateForm.excel_message[0].length)){e.next=18;break}if(i!=t.customTemplateForm.excel_message[0][r].name){e.next=15;break}if("Required"!=t.customTemplateForm.excel_message[0][r].type){e.next=15;break}if(""!=t.customTemplateFormBot.Required[i]){e.next=12;break}return t.$message({type:"error",offset:300,message:i+"不能为空"}),e.abrupt("return");case 12:if("无"!=t.customTemplateFormBot.Required[i]){e.next=15;break}return t.$message({type:"error",offset:300,message:i+"不能为空"}),e.abrupt("return");case 15:r++,e.next=6;break;case 18:e.next=3;break;case 20:for(t.confirmExportLoading=!0,s=0;s<t.countryList.length;s++)t.countryList[s].zone_name==t.customTemplateForm.template_country&&(t.customTemplateForm.template_country_id=t.countryList[s].id);for(t.customTemplateForm.data.push(t.customTemplateFormBot),s=0;s<t.fileList.length;s++)l={},0==s?"1"==t.fileList[0].type?(t.$set(l,"main_image_url",t.fileList[0].index),t.$set(l,"type",t.fileList[0].type)):(t.$set(l,"main_image_url",t.fileList[0].url),t.$set(l,"type",t.fileList[0].type)):"1"==t.fileList[s].type?(t.$set(l,"other_image_url"+s,t.fileList[s].index),t.$set(l,"type",t.fileList[s].type)):(t.$set(l,"other_image_url"+s,t.fileList[s].url),t.$set(l,"type",t.fileList[s].type)),t.customTemplateForm.imgs.push(l);return"产品变体"!==t.customTemplateForm.sales_type&&(t.customTemplateForm.colorNameRegular="",t.customTemplateForm.concatNumber=""),sessionStorage.getItem("selectUId"),e.next=28,t.api.templateAdd(t.customTemplateForm);case 28:o=e.sent,"200"==o.data.code?(t.confirmExportLoading=!1,t.dialogImportTemVisible=!1,t.$message({message:"添加成功",type:"success"}),t.getTableList()):t.errorMess("添加失败");case 30:case"end":return e.stop()}}),e)})))()},searchtemplate:function(){this.getTableList()},resettemplate:function(){this.templateName="",this.createdTime="",this.endedTime="",this.getTableList()},getStoreList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.stoLists();case 2:a=e.sent,200==a.data.code&&(t.storeList=a.data.data,t.customTemplateForm.store_name=t.storeList[0].id);case 4:case"end":return e.stop()}}),e)})))()},getTableList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.templateLoading=!0,sessionStorage.getItem("userId"),e.next=4,t.api.templateIndex({page:t.currentPage,limit:t.limit,store_id:t.checkboxshop,template_name:t.templateName,createdTime:t.createdTime,endedTime:t.endedTime});case 4:a=e.sent,"200"==a.data.code&&(t.tableData=a.data.data.data,t.total=a.data.data.total,t.pageSize=a.data.data.per_page,t.templateLoading=!1);case 6:case"end":return e.stop()}}),e)})))()}},created:function(){this.getCountryList(),this.getTableList(),this.getStoreList()},computed:{length:function(){return this.fileList.length}},watch:{"customTemplateForm.product_type":function(t){this.productVaribles=this.bigObj[t],this.customTemplateForm.excel_message=this.bigObj[t]}},components:{uploadExcel:o["a"]}},u=c,m=(a("4475"),a("2877")),p=Object(m["a"])(u,r,s,!1,null,"39a67639",null),d=p.exports,h={components:{amazonTemplate:d}},g=h,f=Object(m["a"])(g,n,i,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-4850263e.20beaa9b.js.map