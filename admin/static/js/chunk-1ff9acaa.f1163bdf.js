(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ff9acaa"],{"0ed6":function(t,e,a){"use strict";var o=a("fa93"),n=a.n(o);n.a},"11ff":function(t,e,a){"use strict";var o=a("f953"),n=a.n(o);n.a},"6a05":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"exportRecord"},[a("exportRecord")],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"exportRecord"},[a("div",{staticClass:"main_top"},[a("el-row",[a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content bg-purple right"},[t._v("店铺名称：")])]),a("el-col",{attrs:{span:22}},[a("el-checkbox-group",{attrs:{size:"mini"},model:{value:t.checkboxshop,callback:function(e){t.checkboxshop=e},expression:"checkboxshop"}},[a("el-checkbox-button",{key:0,attrs:{label:0},on:{change:function(e){return t.changeshop(0)}}},[t._v("全部")]),t._l(t.storeList,(function(e){return a("el-checkbox-button",{key:e.id,attrs:{label:e.id},on:{change:function(a){return t.changeshop(e.id)}}},[t._v(t._s(e.store_name))])}))],2)],1)],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content bg-purple right"},[t._v("是否下载：")])]),a("el-col",{attrs:{span:22}},[a("el-radio-group",{attrs:{size:"mini"},on:{change:t.changeExportState},model:{value:t.selectValueExport,callback:function(e){t.selectValueExport=e},expression:"selectValueExport"}},t._l(t.exportBtnList,(function(e){return a("el-radio-button",{key:e.id,attrs:{label:e.id,value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1),a("el-row",[a("el-col",{attrs:{span:15}},[a("span",[t._v("下载时间：")]),a("el-date-picker",{staticStyle:{display:"inline-block",width:"33%!important"},attrs:{type:"datetime",placeholder:"开始日期","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:t.DownloadStartTime,callback:function(e){t.DownloadStartTime=e},expression:"DownloadStartTime"}}),a("span",{staticStyle:{display:"inline-block",width:"3%",padding:"0!important",amrgin:"0!important","text-align":"center"}},[t._v("~")]),a("el-date-picker",{staticStyle:{display:"inline-block",width:"33%!important"},attrs:{type:"datetime",placeholder:"结束日期","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:t.DownloadEndTime,callback:function(e){t.DownloadEndTime=e},expression:"DownloadEndTime"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:15}},[a("span",[t._v("汇出时间：")]),a("el-date-picker",{staticStyle:{display:"inline-block",width:"33%!important"},attrs:{type:"datetime",placeholder:"开始日期","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:t.ExportStartTime,callback:function(e){t.ExportStartTime=e},expression:"ExportStartTime"}}),a("span",{staticStyle:{display:"inline-block",width:"3%",padding:"0!important",amrgin:"0!important","text-align":"center"}},[t._v("~")]),a("el-date-picker",{staticStyle:{display:"inline-block",width:"33%!important"},attrs:{type:"datetime",placeholder:"结束日期","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:t.ExportEndTime,callback:function(e){t.ExportEndTime=e},expression:"ExportEndTime"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.searchrecord}},[t._v("搜索")]),a("el-button",{attrs:{size:"small"},on:{click:t.resetrecord}},[t._v("重置")])],1),a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:5}})],1),a("el-row",{staticStyle:{color:"#f7898a"}},[t._v(" 请在图片同步状态为“同步成功”后再下载上传亚马逊（因系统容量原因，图片保存10天，过期请重新汇出）； ")]),a("el-row",{staticStyle:{color:"#f7898a"}},[t._v(" 使用Excel编辑文件时，请将“external_product_id”对应列的单元格格式转换成无小数的数值格式，否则UPC会自动转为科学计数法，导致上传到亚马逊报错。 ")]),a("el-row",{staticStyle:{color:"#f7898a"}},[a("div",{staticClass:"tableTip"},[t._v("汇出记录90天后会自动删除，避免占用服务器空间（不影响已汇出的定制产品）")])])],1),a("div",{staticClass:"main_bottom"},[a("div",{staticClass:"right"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[50,100,200],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("div",{staticStyle:{width:"100%","margin-bottom":"50px",padding:"0 10px !important","box-sizing":"border-box"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.exportRecordLoading,expression:"exportRecordLoading"}],staticClass:"exportRecordTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",align:"center"}},[a("el-table-column",{attrs:{prop:"id",label:"编号",width:"70",align:"center"}}),a("el-table-column",{attrs:{prop:"create_at",label:"汇出时间","min-width":"100",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"template_name",label:"汇出模板","min-width":"100",align:"center"}}),a("el-table-column",{attrs:{prop:"product_num",label:"汇出产品数",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"sku_num",label:"汇出SKU数",width:"110",align:"center"}}),a("el-table-column",{attrs:{prop:"store_name_alias",label:"所属店铺",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"create_status",label:"汇出状态",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.create_status?a("el-button",{attrs:{size:"mini"}},[t._v("处理中")]):t._e(),1==e.row.create_status?a("el-button",{attrs:{size:"mini"}},[t._v("成功")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"download_time",label:"下载时间","min-width":"100",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"",label:"操作","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.create_status?a("el-button",{attrs:{size:"mini"}},[t._v("正在后台处理中 请稍后再来下载！")]):t._e(),1==e.row.create_status?a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.download(e.row.path,e.row.id)}}},[t._v("下载(xlsx)")]):t._e()]}}])})],1)],1)])])},i=[],l=(a("c975"),a("a434"),a("96cf"),a("1da1")),s={data:function(){return{selectValueExport:0,checkboxshop:[0],storeList:[],exportRecordLoading:!1,tableData:[],shop:"全部",isDownload:"全部",DownloadStartTime:"",DownloadEndTime:"",ExportStartTime:"",ExportEndTime:"",shopList:[],exportBtnList:[{name:"全部",id:0},{name:"是",id:1},{name:"否",id:2}],total:0,pageSize:0,currentPage:1,limit:50}},methods:{searchrecord:function(){this.getExportRecordList()},resetrecord:function(){this.DownloadStartTime="",this.DownloadEndTime="",this.ExportStartTime="",this.ExportEndTime="",this.getExportRecordList()},changeExportState:function(t){this.selectValueExport=t,this.getExportRecordList()},changeshop:function(t){0==t?this.checkboxshop=[0]:-1!=this.checkboxshop.indexOf(0)&&this.checkboxshop.splice(this.checkboxshop.indexOf(0),1),0==this.checkboxshop.length&&(this.checkboxshop=[0]),this.getExportRecordList()},isDownLoadFun:function(t){this.isDownload=t},download:function(t,e){return Object(l["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o=sessionStorage.getItem("userId"),window.location.href="http://api.321.design/v1/downloadTxt?url="+t+"&id="+e+"&u_id="+o;case 2:case"end":return a.stop()}}),a)})))()},handleSizeChange:function(t){this.limit=t,this.getExportRecordList()},handleCurrentChange:function(t){this.currentPage=t,this.getExportRecordList()},getStoreList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.api.stoLists();case 2:a=e.sent,200==a.data.code&&(t.storeList=a.data.data);case 4:case"end":return e.stop()}}),e)})))()},getExportRecordList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.exportRecordLoading=!0,sessionStorage.getItem("userId"),e.next=4,t.api.exportRecord({page:t.currentPage,limit:t.limit,store_id:t.checkboxshop,selectValueExport:t.selectValueExport,DownloadStartTime:t.DownloadStartTime,DownloadEndTime:t.DownloadEndTime,ExportStartTime:t.ExportStartTime,ExportEndTime:t.ExportEndTime});case 4:a=e.sent,"200"==a.data.code?(t.tableData=a.data.data.data,t.total=a.data.data.total,t.pageSize=a.data.data.per_page,t.exportRecordLoading=!1):t.errorMess("获取汇出列表失败");case 6:case"end":return e.stop()}}),e)})))()}},created:function(){this.getExportRecordList(),this.getStoreList()}},c=s,d=(a("11ff"),a("2877")),p=Object(d["a"])(c,r,i,!1,null,"0b109dcb",null),u=p.exports,h={components:{exportRecord:u}},m=h,x=(a("0ed6"),Object(d["a"])(m,o,n,!1,null,"515138f3",null));e["default"]=x.exports},c975:function(t,e,a){"use strict";var o=a("23e7"),n=a("4d64").indexOf,r=a("a640"),i=a("ae40"),l=[].indexOf,s=!!l&&1/[1].indexOf(1,-0)<0,c=r("indexOf"),d=i("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:s||!c||!d},{indexOf:function(t){return s?l.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})},f953:function(t,e,a){},fa93:function(t,e,a){}}]);
//# sourceMappingURL=chunk-1ff9acaa.f1163bdf.js.map